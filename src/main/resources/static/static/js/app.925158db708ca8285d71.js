webpackJsonp([1],{"+BTi":function(t,e){},"+zco":function(t,e){},0:function(t,e){},1:function(t,e){},"3Z2m":function(t,e){},"4T8B":function(t,e){},"4prO":function(t,e){},"6ybD":function(t,e){},"7zck":function(t,e){},"91P2":function(t,e){},AQHb:function(t,e){},AVbX:function(t,e){},BWJn:function(t,e){},Bt8s:function(t,e){},DHZb:function(t,e){},FM6s:function(t,e){},"G+Sq":function(t,e){},GXEp:function(t,e){},ItvZ:function(t,e){},JJCY:function(t,e){},KEH7:function(t,e){},KYX3:function(t,e){},KcOE:function(t,e){},MO05:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("GXEp"),a("+BTi");var s=a("mtrD"),r=a.n(s),i=(a("jAzQ"),a("wOhx")),n=a.n(i),o=a("7+uW"),l=new o.default,c={name:"App",data:function(){return{timeout:2e3,snackBar:!1,snackBarText:""}},methods:{showSnackBar:function(t){this.snackBar=!0,this.snackBarText=t}},created:function(){l.$on("show-info",this.showSnackBar)}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view"),t._v(" "),a("v-snackbar",{attrs:{timeout:t.timeout,top:""},model:{value:t.snackBar,callback:function(e){t.snackBar=e},expression:"snackBar"}},[t._v("\n    "+t._s(t.snackBarText)+"\n  ")])],1)},staticRenderFns:[]};var d=a("VU/8")(c,v,!1,function(t){a("eNbV")},null,null).exports,u=a("mtWM"),p=a.n(u),h=a("/ocq"),f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"index",light:""}},[a("v-toolbar",{attrs:{id:"toolbar",color:"purple darken-2",dark:"",app:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[a("span",{staticClass:"hidden-sm-and-down"},[t._v(t._s(t.team))])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",[a("v-menu",{attrs:{"open-on-hover":"",bottom:"","offset-y":""}},[a("v-btn",{staticClass:"head_buttons",attrs:{slot:"activator",color:"transparent",depressed:""},slot:"activator"},[t._v("\n        用户登录\n        "),a("v-icon",{attrs:{dark:""}},[t._v("arrow_drop_down")])],1),t._v(" "),a("v-list",[a("v-list-tile",{attrs:{to:"/login/requester"}},[a("v-list-tile-title",[t._v("发布者登录")])],1),t._v(" "),a("v-list-tile",{attrs:{to:"/login/worker"}},[a("v-list-tile-title",[t._v("工人登录")])],1)],1)],1),t._v(" "),a("v-btn",{staticClass:"head_buttons",attrs:{color:"transparent",depressed:"",to:"register"}},[t._v("\n      用户注册\n    ")]),t._v(" "),a("v-btn",{staticClass:"head_buttons",attrs:{color:"transparent",depressed:"",to:"/login/admin"}},[t._v("\n      管理员登录\n    ")])],1)],1),t._v(" "),a("v-parallax",{attrs:{src:"/static/purple_mountain.jpg",height:"400"}},[a("v-layout",{staticClass:"white--text",attrs:{column:"","align-center":"","justify-center":""}},[a("h1",{staticClass:"white--text mb-2 display-3 text-xs-center",attrs:{id:"title"}},[t._v(t._s(t.title))]),t._v(" "),a("div",{staticClass:"subheading mb-3 text-xs-center"},[t._v(t._s(t.sub_title))]),t._v(" "),a("v-btn",{staticClass:"purple darken-1 mt-5",attrs:{dark:"",large:""}},[t._v("\n          Get Started\n        ")])],1)],1),t._v(" "),a("v-content",{attrs:{id:"content"}},[a("section",[a("v-layout",{staticClass:"my-5",attrs:{column:"",wrap:"","align-center":""}},[a("v-flex",{staticClass:"my-3",attrs:{xs12:"",sm4:""}},[a("div",{staticClass:"text-xs-center"},[a("h2",{staticClass:"headline"},[t._v(t._s(t.intro_title))]),t._v(" "),a("span",{staticClass:"subheading"},[t._v(t._s(t.intro_sub_title))])])]),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-container",{attrs:{"grid-list-xl":""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"",md6:"","text-xs-center":""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-text",{staticClass:"text-xs-center"},[a("v-icon",{staticClass:"purple--text text--darken-2",attrs:{"x-large":""}},[t._v("pan_tool")])],1),t._v(" "),a("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[a("div",{staticClass:"headline text-xs-center",attrs:{id:"intro_publisher"}},[t._v("发布者")])]),t._v(" "),a("v-card-text",{staticClass:"introduction",attrs:{id:"intro_pub_text"}},[t._v(t._s(t.intro_publisher))]),t._v(" "),a("v-btn",{staticClass:"purple darken-2 mt-4",attrs:{dark:"",large:""}},[t._v("\n                    发布者指南\n                  ")])],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"","text-xs-center":""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-text",{staticClass:"text-xs-center"},[a("v-icon",{attrs:{"x-large":"",color:"indigo darken-3"}},[t._v("build")])],1),t._v(" "),a("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[a("div",{staticClass:"headline text-xs-center",attrs:{id:"intro_worker"}},[t._v("工人")])]),t._v(" "),a("v-card-text",{staticClass:"introduction",attrs:{id:"intro_worker_text"}},[t._v(t._s(t.intro_worker))]),t._v(" "),a("v-btn",{staticClass:"indigo darken-3 mt-4",attrs:{dark:"",large:""}},[t._v("\n                    工人指南\n                  ")])],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("section",[a("v-parallax",{attrs:{src:"/static/light_train.jpg",height:"400"}},[a("v-layout",{attrs:{column:"","align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm10:"",md10:"","text-xs-center":""}},[a("div",{staticClass:"headline white--text mb-3 text-xs-center"},[t._v(t._s(t.intro_all))]),t._v(" "),a("em",[t._v("新人朋友先注册噢")]),t._v(" "),a("br"),t._v(" "),a("v-btn",{attrs:{icon:"",dark:""}},[a("v-icon",{attrs:{"x-large":""}},[t._v("touch_app")])],1)],1)],1)],1)],1),t._v(" "),a("section",[a("v-container",{attrs:{"grid-list-xl":""}},[a("v-layout",{staticClass:"my-5",attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[a("div",{staticClass:"headline"},[t._v("关于我们")])]),t._v(" "),a("v-card-text",[t._v(t._s(t.about_us))])],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm4:"","offset-sm1":""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-title",{staticClass:"layout justify-center",attrs:{"primary-title":""}},[a("div",{staticClass:"headline"},[t._v("联系我们")])]),t._v(" "),a("v-card-text",[t._v("\n                如您想吐槽，请不要联系我们。如果您想撩汉，欢迎联系我们。\n              ")]),t._v(" "),a("v-list",{staticClass:"transparent"},[a("v-list-tile",[a("v-list-tile-action",[a("v-icon",{staticClass:"indigo--text text--darken-3"},[t._v("phone")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("123-456-7890")])],1)],1),t._v(" "),a("v-list-tile",[a("v-list-tile-action",[a("v-icon",{staticClass:"indigo--text text--darken-3"},[t._v("place")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Nanjing University Xianlin Campus")])],1)],1),t._v(" "),a("v-list-tile",[a("v-list-tile-action",[a("v-icon",{staticClass:"indigo--text text--darken-3"},[t._v("email")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("AlphaCat@163.com")])],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("v-footer",{staticClass:"indigo darken-3",attrs:{id:"footer"}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"","text-xs-center":""}},[a("div",{staticClass:"white--text ml-3"},[t._v("\n            Made with\n            "),a("v-icon",{staticClass:"red--text"},[t._v("favorite")]),t._v("\n            by AlphaCat Team\n          ")],1)])],1)],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")({name:"Index",data:function(){return{team:"AlphaCat",title:"众包标注平台",sub_title:"Crowdsourcing Tags",intro_title:"为人工智能和大数据分析服务的海量数据征集平台",intro_sub_title:"工人&发布者",intro_worker:"这里为您提供一份工作，利用碎片化时间，动动鼠标，随时随地都可以进行，并且获取不错的报酬。这里更是一个可以不断成长的平台，您可以通过参与大量任务，提升自己的标注准确率，从而提升经验值。当您晋升为高级工人，当然您的报酬也会随之提升。",intro_publisher:"您还在到处寻找为数据标注的工人吗？这里聚集了一群经验丰富的工人，他们经过大量标注任务的训练。在这里，您可以自定义任务的发布，诸如单框标注、多框标注以及不规则标等。如果您加入我们的会员，您还可以享受更多服务，全方位提高您采集到的数据质量。",intro_all:"当然，还有更多的功能等待您去发掘！赶快加入我们吧~",about_us:"我们是南京九乡河技术学院的一支团结友爱积极向上的软件开发小分队，我们的艺名是AlphaCat。目前我们有四只程序猿，其中还有一只外院系乱入的，所以我们从人力资源和硬件资源方面看，都处于落后水平。我们真诚并且热烈欢迎来自社会各界的捐赠，感谢你们的支持！"}}},f,!1,function(t){a("KcOE")},"data-v-54e0f90c",null).exports,_={name:"Register",data:function(){return{title:"众包标注平台——用户注册",sub_title:"Crowdsourcing Tags",gradient:"to top right, rgba(0,0,128,.6), rgba(136,0,128, .6",step:1,userType:"",dateMenu:!1,requester:{name:"",key:"",birth:null,sex:"0",email:"",occupation:"",company:""},worker:{name:"",key:"",birth:null,sex:"0",email:"",signature:""},croppa:{}}},watch:{dateMenu:function(t){var e=this;t&&this.$nextTick(function(){return e.$refs.picker.activePicker="YEAR"})}},methods:{chooseType:function(t){this.userType=t,this.step=2},save:function(t){this.$refs.menu.save(t)},requester_submit:function(){var t=this;this.croppa.hasImage()?this.$http.post("/requester",this.requester).then(function(e){t.step=3}).catch(function(t){l.$emit("show-info","注册失败："+t.response.data.message)}):l.$emit("show-info","请选择头像")},worker_submit:function(){var t=this;this.croppa.hasImage()?this.$http.post("/worker",this.worker).then(function(e){t.step=3}).catch(function(t){l.$emit("show-info","注册失败："+t.response.data.message)}):l.$emit("show-info","请选择头像")},upload:function(t,e){var a=this;this.croppa.generateBlob(function(s){var r=new FormData;r.append("file",s),r.append("name",t),r.append("type",e),a.$http.post("/avatar",r).then(function(t){})})}}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-toolbar",{attrs:{id:"toolbar",color:"transparent",dark:"",app:"",flat:""}},[a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"head_buttons",attrs:{color:"transparent",depressed:"",to:"/"}},[a("v-icon",{attrs:{dark:"",left:""}},[t._v("reply")]),t._v("\n      返回首页\n    ")],1)],1),t._v(" "),a("v-jumbotron",{attrs:{src:"/static/light_train.jpg",dark:"",height:"200px",gradient:t.gradient}},[a("v-container",{attrs:{"fill-height":""}},[a("v-layout",{staticClass:"text-lg-left",attrs:{"align-center":""}},[a("v-flex",[a("h3",{staticClass:"display-2"},[t._v(t._s(t.title))]),t._v(" "),a("span",{staticClass:"subheading"},[t._v(t._s(t.sub_title))])])],1)],1)],1),t._v(" "),a("v-content",[a("v-container",[a("v-stepper",{model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:t.step>1,step:"1"}},[t._v("选择注册身份")]),t._v(" "),a("v-divider"),t._v(" "),a("v-stepper-step",{attrs:{complete:t.step>2,step:"2"}},[t._v("完善个人信息")]),t._v(" "),a("v-divider"),t._v(" "),a("v-stepper-step",{attrs:{step:"3"}},[t._v("注册完成")])],1),t._v(" "),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-layout",{attrs:{row:"","justify-space-around":""}},[a("v-flex",{attrs:{md5:""}},[a("v-card",[a("v-card-media",{attrs:{src:"static/publisher.jpg",height:"310px"}}),t._v(" "),a("v-card-title",[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"text-xs-center"},[a("h3",{staticClass:"headline"},[t._v("注册成为发布者")]),t._v(" "),a("div",[t._v("上传图片、设定条件、查看统计与分析，制定你的专属标注任务！")])])])],1),t._v(" "),a("v-card-actions",[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{color:"green darken-2",large:""},on:{click:function(e){t.chooseType("requester")}}},[t._v("立即注册")])],1)])],1)],1)],1),t._v(" "),a("v-flex",{attrs:{md5:""}},[a("v-card",[a("v-card-media",{attrs:{src:"static/worker.jpg",height:"310px"}}),t._v(" "),a("v-card-title",[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"text-xs-center"},[a("h3",{staticClass:"headline"},[t._v("注册成为工人")]),t._v(" "),a("div",[t._v("参加任务、进行标注、获取奖励、兑换奖品，走向现充之路！")])])])],1),t._v(" "),a("v-card-actions",[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{color:"blue darken-2",large:""},on:{click:function(e){t.chooseType("worker")}}},[t._v("立即注册")])],1)])],1)],1)],1)],1)],1),t._v(" "),a("v-stepper-content",{attrs:{step:"2"}},["requester"==t.userType?a("v-form",{attrs:{model:t.requester}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("croppa",{attrs:{placeholder:"点击此处上传头像",quality:1,"zoom-speed":8,"prevent-white-space":""},model:{value:t.croppa,callback:function(e){t.croppa=e},expression:"croppa"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{label:"用户名","prepend-icon":"account_box",required:""},model:{value:t.requester.name,callback:function(e){t.$set(t.requester,"name",e)},expression:"requester.name"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{label:"密码","prepend-icon":"lock",type:"password",required:""},model:{value:t.requester.key,callback:function(e){t.$set(t.requester,"key",e)},expression:"requester.key"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:"","justify-space-between":""}},[a("v-flex",{attrs:{xs5:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"生日","prepend-icon":"event",readonly:"",required:""},slot:"activator",model:{value:t.requester.birth,callback:function(e){t.$set(t.requester,"birth",e)},expression:"requester.birth"}}),t._v(" "),a("v-date-picker",{ref:"picker",attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},on:{change:function(e){t.save(t.requester.birth)}},model:{value:t.requester.birth,callback:function(e){t.$set(t.requester,"birth",e)},expression:"requester.birth"}})],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-radio-group",{attrs:{row:"","prepend-icon":"supervisor_account",label:"性别"},model:{value:t.requester.sex,callback:function(e){t.$set(t.requester,"sex",e)},expression:"requester.sex"}},[a("v-radio",{attrs:{label:"男性",value:"0"}}),t._v(" "),a("v-radio",{attrs:{label:"女性",value:"1"}})],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{label:"邮箱","prepend-icon":"email",type:"email",required:""},model:{value:t.requester.email,callback:function(e){t.$set(t.requester,"email",e)},expression:"requester.email"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{"prepend-icon":"turned_in",label:"职务"},model:{value:t.requester.occupation,callback:function(e){t.$set(t.requester,"occupation",e)},expression:"requester.occupation"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{"prepend-icon":"card_travel",label:"公司"},model:{value:t.requester.company,callback:function(e){t.$set(t.requester,"company",e)},expression:"requester.company"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{color:"green darken-2",block:""},on:{click:t.requester_submit}},[t._v("注册")])],1),t._v(" "),a("v-flex",{attrs:{xs2:"","offset-xs1":""}},[a("v-btn",{attrs:{color:"light-green",block:""},on:{click:function(e){t.step=1}}},[t._v("上一步")])],1)],1)],1)],1):"worker"==t.userType?a("v-form",{attrs:{model:t.requester}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("croppa",{attrs:{placeholder:"点击此处上传头像",quality:1,"zoom-speed":10,"prevent-white-space":""},model:{value:t.croppa,callback:function(e){t.croppa=e},expression:"croppa"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{label:"用户名","prepend-icon":"account_box",required:""},model:{value:t.worker.name,callback:function(e){t.$set(t.worker,"name",e)},expression:"worker.name"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{label:"密码","prepend-icon":"lock",type:"password",required:""},model:{value:t.worker.key,callback:function(e){t.$set(t.worker,"key",e)},expression:"worker.key"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:"","justify-space-between":""}},[a("v-flex",{attrs:{xs5:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"生日","prepend-icon":"event",readonly:"",required:""},slot:"activator",model:{value:t.worker.birth,callback:function(e){t.$set(t.worker,"birth",e)},expression:"worker.birth"}}),t._v(" "),a("v-date-picker",{ref:"picker",attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},on:{change:function(e){t.save(t.worker.birth)}},model:{value:t.worker.birth,callback:function(e){t.$set(t.worker,"birth",e)},expression:"worker.birth"}})],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-radio-group",{attrs:{row:"",label:"性别","prepend-icon":"supervisor_account"},model:{value:t.worker.sex,callback:function(e){t.$set(t.worker,"sex",e)},expression:"worker.sex"}},[a("v-radio",{attrs:{label:"男性",value:"0"}}),t._v(" "),a("v-radio",{attrs:{label:"女性",value:"1"}})],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{label:"邮箱","prepend-icon":"email",type:"email",required:""},model:{value:t.worker.email,callback:function(e){t.$set(t.worker,"email",e)},expression:"worker.email"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{"prepend-icon":"description",label:"个性签名"},model:{value:t.worker.signature,callback:function(e){t.$set(t.worker,"signature",e)},expression:"worker.signature"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{color:"blue darken-2",block:""},on:{click:t.worker_submit}},[t._v("注册")])],1),t._v(" "),a("v-flex",{attrs:{xs2:"","offset-xs1":""}},[a("v-btn",{attrs:{color:"light-blue lighten-2",block:""},on:{click:function(e){t.step=1}}},[t._v("上一步")])],1)],1)],1)],1):t._e()],1),t._v(" "),a("v-stepper-content",{attrs:{step:"3"}},[a("div",{staticClass:"display-1"},[t._v("注册成功！")]),t._v(" "),a("v-btn",{attrs:{color:"primary",to:"/login/"+t.userType},nativeOn:{click:function(e){t.step=1}}},[t._v("现在登录")]),t._v(" "),a("v-btn",{attrs:{to:"/index"}},[t._v("返回首页")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var b=a("VU/8")(_,k,!1,function(t){a("91P2")},"data-v-686bd332",null).exports,x={name:"AdminPage",data:function(){return{drawer:!1,color:"indigo",items:"",snackBar:!1,timeout:2e3,snackBarText:"",adminName:sessionStorage.getItem("name")}},methods:{logout:function(){var t=this;this.$http.post("/logout").then(function(e){t.$router.push("/index")})}},mounted:function(){switch(sessionStorage.getItem("type")){case"superAdmin":this.items=[{icon:"people",text:"管理员设置",path:"/admin/index"},{icon:"poll",text:"用户数据统计",path:"/admin/userData"},{icon:"timeline",text:"任务数据统计",path:"/admin/taskData"},{icon:"library_books",text:"通知管理",path:"/admin/notice"}];break;case"requesterAdmin":this.items=[{icon:"people",text:"发起者管理",path:"/admin/index"},{icon:"gavel",text:"发起者审核",path:"/admin/check"},{icon:"poll",text:"任务数据统计",path:"/admin/taskData"}];break;case"workerAdmin":this.items=[{icon:"people",text:"工人信息管理",path:"/admin/index"},{icon:"poll",text:"工人数据统计",path:"/admin/userData"}]}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-navigation-drawer",{attrs:{fixed:"","disable-route-watcher":"",temporary:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-media",{attrs:{src:"/static/drawerBG.jpg",height:"150px"}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:"","offset-xs4":""}},[a("v-avatar",{attrs:{slot:"activator",size:"72px"},slot:"activator"},[a("img",{attrs:{src:"https://avatars0.githubusercontent.com/u/9064066?v=4&s=460",alt:""}})])],1)],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"white--text",attrs:{xs4:"","offset-xs4":""}},[a("p",{staticClass:"display-1 text-xs-center"},[a("strong",[t._v(t._s(t.adminName))])])])],1)],1)],1),t._v(" "),a("v-card-text",[a("v-list",{staticClass:"pt-0",attrs:{dense:""}},[t._l(t.items,function(e){return a("v-list-tile",{key:e.text,attrs:{to:e.path},on:{click:function(e){t.drawer=!1}}},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[a("span",{staticClass:"subheading"},[t._v(t._s(e.text))])])],1)],1)}),t._v(" "),a("v-divider"),t._v(" "),a("v-list-tile",{attrs:{to:"/admin/info"},on:{click:function(e){t.drawer=!1}}},[a("v-list-tile-action",[a("v-icon",[t._v("create")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[a("span",{staticClass:"subheading"},[t._v("修改信息")])])],1)],1),t._v(" "),a("v-list-tile",{on:{click:function(t){}}},[a("v-list-tile-action",[a("v-icon",[t._v("exit_to_app")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",{on:{click:t.logout}},[a("span",{staticClass:"subheading"},[t._v("退出登录")])])],1)],1)],2)],1)],1)],1),t._v(" "),a("v-toolbar",{attrs:{color:t.color,dark:"",fixed:"",app:""}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),a("v-toolbar-title",[t._v("AlphaCat后台管理系统")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("exit_to_app")])],1)],1),t._v(" "),a("v-content",[a("router-view")],1),t._v(" "),a("v-footer",{attrs:{color:t.color,app:"",inset:""}},[a("v-flex",{attrs:{xs12:""}},[a("p",{staticClass:"white--text text-xs-center"},[t._v("南京大学软件学院AlphaCat开发小组© 2017-2018")])])],1)],1)},staticRenderFns:[]};var w=a("VU/8")(x,g,!1,function(t){a("xr7U")},"data-v-773204fe",null).exports,y={name:"AdminInfo",data:function(){return{adminId:sessionStorage.getItem("id"),admin:{name:"",actualName:"",sex:0,key:""}}},methods:{getInfo:function(){var t=this;this.$http.get("/admin/"+this.adminId).then(function(e){t.admin=e.data,delete t.admin.auth})},save:function(){this.$http.put("/admin/"+this.adminId,this.admin).then(function(t){l.$emit("show-info","修改成功")}).catch(function(t){l.$emit("show-info","修改失败")})}},created:function(){this.getInfo()}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"100%"}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("修改个人信息")])]),t._v(" "),a("v-card-text",[a("v-form",{attrs:{model:t.admin}},[a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:"用户名","prepend-icon":"account_box",required:""},model:{value:t.admin.name,callback:function(e){t.$set(t.admin,"name",e)},expression:"admin.name"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:"真实姓名","prepend-icon":"perm_identity",required:""},model:{value:t.admin.actualName,callback:function(e){t.$set(t.admin,"actualName",e)},expression:"admin.actualName"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:"密码","prepend-icon":"lock",type:"password",required:""},model:{value:t.admin.key,callback:function(e){t.$set(t.admin,"key",e)},expression:"admin.key"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-radio-group",{attrs:{row:"","prepend-icon":"supervisor_account"},model:{value:t.admin.sex,callback:function(e){t.$set(t.admin,"sex",t._n(e))},expression:"admin.sex"}},[a("v-radio",{attrs:{label:"男性",value:0}}),t._v(" "),a("v-radio",{attrs:{label:"女性",value:1}})],1)],1)],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{row:""}},[a("v-spacer"),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-btn",{attrs:{flat:"",color:"deep-orange darken-4"},on:{click:t.save}},[t._v("保存")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"amber"},on:{click:t.getInfo}},[t._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var $=a("VU/8")(y,C,!1,function(t){a("TiJG")},"data-v-e37d1948",null).exports,T={name:"RequesterCheck",data:function(){return{headers:[{text:"编号",sortable:!0,value:"id"},{text:"用户名",sortable:!0,value:"name"},{text:"生日",sortable:!1,value:"birth"},{text:"性别",sortable:!1,value:"sex"},{text:"邮箱",sortable:!1,value:"email"},{text:"操作",sortable:!1,value:""}],items:[]}},methods:{getSex:function(t){return 0===t?"男":"女"},updateTable:function(){var t=this;this.$http.get("/requester?type=unchecked").then(function(e){t.items=e.data})},check:function(t,e){var a=this,s={id:t.id,isChecked:e};this.$http.post("/requester/check",s).then(function(s){a.items.splice(a.items.indexOf(t),1),l.$emit("show-info",t.name+"已审核"+(e?"通过":"不通过"))}).catch(function(t){l.$emit("show-info",t.body)})},checkAll:function(){var t=!0;for(var e in this.items){var a={id:e.id,isChecked:!0};this.$http.post("/requester/check",a).catch(function(e){l.$emit("show-info",e.data),t=!1})}t&&l.$emit("show-info","已全部审核完毕"),this.updateTable()}},created:function(){this.updateTable()}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs10:"","offset-xs1":""}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("待审核发布者列表")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{on:{click:t.checkAll}},[a("v-icon",[t._v("done_all")]),t._v(" "),a("span",[t._v("全部通过")])],1)],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.items,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",[t._v(t._s(e.item.birth))]),t._v(" "),a("td",[t._v(t._s(t.getSex(e.item.sex)))]),t._v(" "),a("td",[t._v(t._s(e.item.email))]),t._v(" "),a("td",{staticClass:"layout px-0"},[a("v-layout",{attrs:{row:"","justify-space-around":""}},[a("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(a){t.check(e.item,!0)}}},[a("v-icon",{attrs:{color:"primary"}},[t._v("check")])],1),t._v(" "),a("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(a){t.check(e.item,!1)}}},[a("v-icon",{attrs:{color:"red"}},[t._v("close")])],1)],1)],1)])]}}])},[a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n            没有需要审核的发起者 :(\n          ")])],1)],2)],1)],1)],1)},staticRenderFns:[]};var q=a("VU/8")(T,I,!1,function(t){a("AQHb")},"data-v-1d9a5a90",null).exports,D={name:"NoticePage",data:function(){return{editDialog:!1,deleteDialog:!1,dateMenu:!1,forever:!0,headers:[{text:"编号",sortable:!0,value:"id"},{text:"标题",sortable:!1,value:"title"},{text:"发布日期",sortable:!1,value:"startDate"},{text:"结束日期",sortable:!1,value:"endDate"},{text:"通知对象",sortable:!1,value:"type"}],items:[],notice:{title:"",content:"",endDate:"",type:0}}},methods:{getUserType:function(t){return 0===t?"发起者":"工人"},openDialog:function(){this.notice={title:"",content:"",type:0},this.editDialog=!0},openDelDialog:function(t){this.deleteDialog=!0,this.notice=t},save:function(t){this.$refs.menu.save(t)},update:function(){var t=this;this.$http.get("/notice").then(function(e){t.items=e.data})},deleteItem:function(){this.deleteDialog=!1,this.$http.delete("/notice/"+this.notice.id).then(function(t){l.$emit("show-info","通知已成功删除")})},submitItem:function(){var t=this;this.editDialog=!1,this.forever&&(this.notice.endDate="0"),this.$http.post("/notice",this.notice).then(function(e){t.update(),l.$emit("show-info","通知已成功发布")})}},created:function(){this.update()}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs10:"","offset-xs1":""}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("已发布通知")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{on:{click:t.openDialog}},[a("v-icon",[t._v("add")]),t._v(" "),a("span",[t._v("增加")])],1)],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.items,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{on:{click:function(t){e.expanded=!e.expanded}}},[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.title))]),t._v(" "),a("td",[t._v(t._s(e.item.startDate))]),t._v(" "),a("td",[t._v(t._s(e.item.endDate))]),t._v(" "),a("td",[t._v(t._s(t.getUserType(e.item.type)))]),t._v(" "),a("td",{staticClass:"layout px-0"},[a("v-layout",{attrs:{row:"","justify-space-around":""}},[a("v-flex",{attrs:{"xs-1":""}},[a("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(a){t.openDelDialog(e.item)}}},[a("v-icon",{attrs:{color:"blue-grey"}},[t._v("delete")])],1)],1)],1)],1)])]}},{key:"expand",fn:function(e){return[a("v-card",{attrs:{flat:""}},[a("v-card-text",[t._v(t._s(e.item.content))])],1)]}}])},[a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n            没有找到通知数据 :(\n          ")])],1)],2)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"650",lazy:"","hide-overlay":"",persistent:""},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("发布通知")]),t._v(" "),a("v-card-text",[a("v-form",{attrs:{model:t.notice}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs10:""}},[a("v-text-field",{attrs:{label:"标题","prepend-icon":"send",required:""},model:{value:t.notice.title,callback:function(e){t.$set(t.notice,"title",e)},expression:"notice.title"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs10:""}},[a("v-text-field",{attrs:{label:"内容","prepend-icon":"notes","multi-line":"",required:""},model:{value:t.notice.content,callback:function(e){t.$set(t.notice,"content",e)},expression:"notice.content"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs10:""}},[a("v-switch",{attrs:{label:t.forever?"永久":"限时","prepend-icon":"open_in_new"},model:{value:t.forever,callback:function(e){t.forever=e},expression:"forever"}})],1)],1),t._v(" "),t.forever?t._e():a("v-layout",{attrs:{row:"","justify-space-between":""}},[a("v-flex",{attrs:{xs10:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"结束日期","prepend-icon":"event",readonly:"",required:""},slot:"activator",model:{value:t.notice.endDate,callback:function(e){t.$set(t.notice,"endDate",e)},expression:"notice.endDate"}}),t._v(" "),a("v-date-picker",{ref:"picker",attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},on:{change:function(e){t.save(t.notice.endDate)}},model:{value:t.notice.endDate,callback:function(e){t.$set(t.notice,"endDate",e)},expression:"notice.endDate"}})],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs10:""}},[a("v-radio-group",{attrs:{label:"通知对象","prepend-icon":"how_to_reg"},model:{value:t.notice.type,callback:function(e){t.$set(t.notice,"type",t._n(e))},expression:"notice.type"}},[a("v-radio",{attrs:{label:"发布者",value:0}}),t._v(" "),a("v-radio",{attrs:{label:"工人",value:1}})],1)],1)],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:t.submitItem}},[t._v("发布")]),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:""},nativeOn:{click:function(e){t.editDialog=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"500px","hide-overlay":"",persistent:""},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",[a("span",[t._v("确认删除此通知："+t._s(t.notice.title)+" ？")]),t._v(" "),a("v-spacer")],1),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"red",flat:""},on:{click:t.deleteItem}},[t._v("删除")]),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){e.stopPropagation(),t.deleteDialog=!1}}},[t._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var O=a("VU/8")(D,j,!1,function(t){a("nYdx")},"data-v-59f325cc",null).exports,S=a("UlOv"),F={extends:S.b,props:["data","options"],mounted:function(){this.renderChart(this.data,this.options)}},P={extends:S.a,props:["data","options"],mounted:function(){this.renderChart(this.data,this.options)}},A={name:"UserStatics",components:{PieChart:F,LineChart:P},data:function(){return{sexChartData:{data:{datasets:[{data:[34,20],backgroundColor:["rgba(54, 162, 235, 0.8)","rgba(255, 99, 132, 0.8)"]}],labels:["男性","女性"]},options:{responsive:!0,title:{display:!0,text:"工人男女比例",position:"bottom"}}},ageChartData:{data:{datasets:[{data:[0,0,0,0],backgroundColor:["rgba(54, 204, 255, 0.8)","rgba(51, 102, 255, 0.8)","rgba(51, 255, 204, 0.8)","rgba(102, 255, 55, 0.8)"]}],labels:["18岁以下","18-30","31-45","45岁以上"]},options:{responsive:!0,title:{display:!0,text:"工人年龄分布",position:"bottom"}}},lineChartData:{data:{datasets:[{label:"活跃工人数量",data:[],backgroundColor:["rgba(250, 51, 0, 0.5)"]},{label:"工人总数",data:[],backgroundColor:["rgba(255, 100, 61, 0.5)"]}],labels:this.getDateList()},options:{responsive:!0,title:{display:!0,text:"活跃工人变化",position:"bottom"}},height:200},userChartData:{data:{datasets:[{data:[0,0],backgroundColor:["rgba(5, 152, 5, 0.8)","rgba(0, 0, 132, 0.8)"]}],labels:["发布者","工人"]},options:{responsive:!0,title:{display:!0,text:"发布者-工人比例",position:"bottom"}}}}},methods:{getDateList:function(){for(var t=[],e=new Date,a=0;a<7;a++)e.setDate(e.getDate()-1),t.unshift(e.getMonth()+1+"-"+e.getDate());return t}},created:function(){var t=this;console.log(11111),this.$http.get("/statistics/worker").then(function(e){var a=e.data;t.sexChartData.data.datasets[0].data=[a.male,a.female],t.ageChartData.data.datasets[0].data=a.ageArray,t.lineChartData.data.datasets[0].data=a.activeArray,t.lineChartData.data.datasets[1].data=a.workerArray,t.userChartData.data.datasets[0].data[0]=a.male+a.female;var s=document.getElementById("line-chart");new Chart(s,{type:"line",data:t.lineChartData.data,options:t.lineChartData.options});var r=document.getElementById("sexChart");new Chart(r,{type:"pie",data:t.sexChartData.data,options:t.sexChartData.options});var i=document.getElementById("ageChart");new Chart(i,{type:"pie",data:t.ageChartData.data,options:t.ageChartData.options}),t.$http.get("/statistics/requester").then(function(e){t.userChartData.data.datasets[0].data[1]=e.data.num;var a=document.getElementById("userChart");console.log(a),new Chart(a,{type:"pie",data:t.userChartData.data,options:t.userChartData.options})})})}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("用户数据统计")])]),t._v(" "),a("v-card-text",[a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("PieChart",{attrs:{"chart-id":"sexChart",data:t.sexChartData.data,options:t.sexChartData.options}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("PieChart",{attrs:{"chart-id":"ageChart",data:t.ageChartData.data,options:t.ageChartData.options}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("PieChart",{attrs:{"chart-id":"userChart",data:t.userChartData.data,options:t.userChartData.options}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("LineChart",{attrs:{data:t.lineChartData.data,options:t.lineChartData.options,height:t.lineChartData.height}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var L=a("VU/8")(A,N,!1,function(t){a("WSke")},"data-v-70c4186b",null).exports,E=a("iXLo"),M={name:"TaskStatistics",components:{LineChart:P,ICountUp:a.n(E).a},data:function(){return{taskNum:0,finishTaskNum:0,lineChartData:{data:{datasets:[{label:"已完成任务数量",data:[],backgroundColor:["rgba(250, 51, 0, 0.5)"]},{label:"任务总数",data:[],backgroundColor:["rgba(255, 100, 61, 0.5)"]}],labels:this.getDateList()},options:{responsive:!0,title:{display:!0,text:"任务组成变化",position:"bottom"}},height:200}}},methods:{getDateList:function(){for(var t=[],e=new Date,a=0;a<7;a++)e.setDate(e.getDate()-1),t.unshift(e.getMonth()+1+"-"+e.getDate());return t},onReady:function(t,e){t.update(this.endVal+100)}},mounted:function(){var t=this;this.$http.get("/statistics/task").then(function(e){var a=e.data;t.taskNum=a.taskNum,t.finishTaskNum=a.finishNum,t.lineChartData.data.datasets[1].data=a.taskNumArray,t.lineChartData.data.datasets[0].data=a.finishNumArray;var s=document.getElementById("line-chart");new Chart(s,{type:"line",data:t.lineChartData.data,options:t.lineChartData.options})})}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("任务数据统计")])]),t._v(" "),a("v-card-text",[a("v-container",[a("v-layout",{staticClass:"headline",attrs:{row:""}},[a("v-flex",{attrs:{xs6:""}},[a("span",[t._v("已发布任务总数：")]),t._v(" "),a("ICountUp",{attrs:{endVal:t.taskNum},on:{ready:t.onReady}})],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("span",[t._v("已结束任务总数：")]),t._v(" "),a("ICountUp",{attrs:{endVal:t.finishTaskNum},on:{ready:t.onReady}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("LineChart",{attrs:{data:t.lineChartData.data,options:t.lineChartData.options,height:t.lineChartData.height}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var z=a("VU/8")(M,R,!1,function(t){a("AVbX")},"data-v-4d972950",null).exports,U={name:"WorkerPage",computed:{show:function(){return 0!==this.number}},data:function(){return{dialog:!1,workerName:sessionStorage.getItem("name"),notices:[],number:0,notice:{}}},methods:{update:function(){var t=this;this.$http.get("/notice").then(function(e){t.notices=e.data,t.number=0;for(var a=0;a<t.notices.length;a++)0===t.notices[a].state&&t.number++})},showNotice:function(t){var e=this;this.$http.get("/notice/"+t).then(function(t){e.notice=t.data,e.dialog=!0})},readNotice:function(){var t=this;this.$http.post("/notice/"+this.notice.id+"/read").then(function(e){t.update()}),this.dialog=!1},logout:function(){var t=this;this.$http.post("/logout").then(function(e){t.$router.push("/index")})}},created:function(){this.update()}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-toolbar",{attrs:{height:"70"}},[a("v-toolbar-title",[t._v("AlphaCat众包数据标注平台")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-menu",{attrs:{"open-on-hover":"",bottom:"","offset-y":""}},[a("v-btn",{staticClass:"head_buttons",attrs:{slot:"activator",color:"transparent",depressed:""},slot:"activator"},[t._v("\n        "+t._s(t.workerName)+"\n        "),a("v-icon",{attrs:{dark:""}},[t._v("arrow_drop_down")])],1),t._v(" "),a("v-list",[a("v-list-tile",{attrs:{to:"/worker/center"}},[a("v-list-tile-title",[t._v("个人中心")])],1),t._v(" "),a("v-list-tile",{on:{click:t.logout}},[a("v-list-tile-title",[t._v("退出登录")])],1)],1)],1),t._v(" "),a("v-menu",{attrs:{"open-on-hover":"",bottom:"","offset-y":""}},[a("v-btn",{staticClass:"head_buttons",attrs:{slot:"activator",color:"transparent",depressed:""},slot:"activator"},[a("v-badge",{attrs:{color:"red"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("span",{attrs:{slot:"badge"},slot:"badge"},[t._v(t._s(t.number))]),t._v(" "),a("v-icon",{attrs:{dark:""}},[t._v("mail")]),t._v("\n          通知\n        ")],1)],1),t._v(" "),a("v-card",[0===t.number?a("v-card-text",[t._v("\n          没有未读的通知~\n        ")]):t._e(),t._v(" "),0!==t.number?a("v-card-text",[t._v("\n          未读通知列表\n          "),a("v-list",t._l(t.notices,function(e){return 0===e.state?a("v-list-tile",{key:e.id,staticClass:"notice-list-item"},[a("v-divider"),t._v(" "),a("v-list-tile-title",{on:{click:function(a){t.showNotice(e.id)}}},[a("span",{staticClass:"body-2"},[t._v(t._s(e.title))])])],1):t._e()}))],1):t._e(),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"blue",to:"/worker/center"}},[t._v("\n            查看全部\n          ")])],1)],1)],1)],1),t._v(" "),a("v-toolbar",{attrs:{color:"primary",height:"50"}},[a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:"",to:"/worker/index"}},[t._v("首页")])],1),t._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:"",to:"/worker/task"}},[t._v("任务中心")])],1),t._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:"",to:"/worker/rank"}},[t._v("排行榜")])],1)],1),t._v(" "),a("v-content",[a("router-view")],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",[t._v(t._s(t.notice.title))])]),t._v(" "),a("v-card-text",[t._v("\n        "+t._s(t.notice.content)+"\n      ")]),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){return e.stopPropagation(),t.readNotice(e)}}},[t._v("已读")])],1)],1)],1)],1)},staticRenderFns:[]};var W=a("VU/8")(U,B,!1,function(t){a("T8H4")},"data-v-0aefe07d",null).exports,V={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",[e("v-layout",{attrs:{row:""}},[e("v-flex",{attrs:{xs12:""}},[e("v-card",[e("v-card-media",[e("img",{attrs:{src:"/static/workerIndex.jpg"}})])],1)],1)],1)],1)},staticRenderFns:[]};var H=a("VU/8")({name:"WorkerIndex"},V,!1,function(t){a("sSqM")},"data-v-749a34cd",null).exports,X={name:"InfoPanel",computed:{level:function(){var t=1,e=this.getItem("exp");return e<=1e3?t+=Math.round(e/100):(t=10,t+=Math.round((e-1e3)/250)),t},signBtnText:function(){return this.hasSign?"已签到":"点击签到"}},data:function(){return{workerName:sessionStorage.getItem("name"),listItem:[{icon:"attach_money",text:"积分",data:0,value:"credit"},{icon:"pages",text:"经验值",data:0,value:"exp"},{icon:"email",text:"邮箱",data:"",value:"email"}],signature:"",hasSign:!1,signDays:0}},methods:{getItem:function(t){return this.listItem.find(function(e){return e.value===t}).data},getWorkerInfo:function(){var t=this;this.$http.get("/worker/"+sessionStorage.getItem("id")).then(function(e){t.listItem[0].data=e.data.credit,t.listItem[1].data=e.data.exp,t.listItem[2].data=e.data.email,t.signature=e.data.signature})},getWorkerSignInfo:function(){var t=this;this.$http.get("/worker/"+sessionStorage.getItem("id")+"/signup").then(function(e){t.hasSign=e.data.hasSign,t.signDays=e.data.daysNum})},sign:function(){var t=this;this.$http.post("/worker/"+sessionStorage.getItem("id")+"/signup").then(function(e){t.hasSign=!0,t.signDays+=1})}},created:function(){this.getWorkerInfo(),this.getWorkerSignInfo()}},Y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-media",{staticClass:"white--text",attrs:{height:"130px",src:"/static/triangle3.jpg"}},[a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"white--text",attrs:{xs12:""}},[a("p",{staticClass:"display-1 text-xs-center"},[t._v(t._s(t.workerName))]),t._v(" "),a("p",{staticClass:"subheading text-xs-right"},[t._v(t._s(t.signature))])])],1)],1)],1),t._v(" "),a("v-list",[a("v-list-tile",[a("v-list-tile-action",[a("v-icon",{attrs:{color:"indigo"}},[t._v("storage")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(t.level))]),t._v(" "),a("v-list-tile-sub-title",[t._v("等级")])],1)],1),t._v(" "),t._l(t.listItem,function(e){return a("v-list-tile",{key:e.value},[a("v-list-tile-action",[a("v-icon",{attrs:{color:"indigo"}},[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.data))]),t._v(" "),a("v-list-tile-sub-title",[t._v(t._s(e.text))])],1)],1)})],2),t._v(" "),a("v-card-actions",[a("v-flex",{attrs:{xs6:""}},[a("v-btn",{attrs:{block:"",color:"orange lighten-2",disabled:t.hasSign},on:{click:t.sign}},[t._v(t._s(t.signBtnText))])],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("p"),t._v(" "),a("p",{staticClass:"text-xs-center"},[t._v("已签到"+t._s(t.signDays)+"天")])])],1)],1)],1)],1)],1)},staticRenderFns:[]};var J=a("VU/8")(X,Y,!1,function(t){a("4T8B")},"data-v-74acc759",null).exports,G={name:"TaskPanel",props:["showType","type","searchName"],data:function(){return{headers:[{text:"编号",sortable:!0,value:"id"},{text:"任务名",sortable:!1,value:"name"},{text:"结束时间",sortable:!0,value:"endTime"},{text:"单张奖励",sortable:!1,value:"creditPerPic"},{text:"完成奖励",sortable:!1,value:"creditFinished"}],items:[]}},methods:{getMethodName:function(t){switch(t){case 1:return"单框标注";case 2:return"多框标注";case 3:return"不规则标注"}},taskFilter:function(t,e){return-1!==t.indexOf(e)},customFilter:function(t,e,a){for(var s=[],r=0;r<t.length;r++)a(this.items[r].name,e)&&s.push(this.items[r]);return s},updateTasks:function(){var t=this;this.$http.get("/task?type="+this.type+"&workerId="+sessionStorage.getItem("id")).then(function(e){t.items=e.data})},openMark:function(t){this.$router.push("/worker/mark/"+t)}},created:function(){this.updateTasks()}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0===t.showType?a("v-data-table",{attrs:{headers:t.headers,items:t.items,"item-key":"name",search:t.searchName,filter:t.taskFilter,"custom-filter":t.customFilter,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{on:{click:function(a){t.openMark(e.item.id)}}},[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[a("v-chip",{attrs:{small:"",outline:"",color:"primary"}},[t._v(t._s(t.getMethodName(e.item.method)))]),t._v(t._s(e.item.name))],1),t._v(" "),a("td",[t._v(t._s(e.item.endTime))]),t._v(" "),a("td",[t._v(t._s(e.item.creditPerPic))]),t._v(" "),a("td",[t._v(t._s(e.item.creditFinished))])])]}}])},[a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n        抱歉，目前没有可用的任务 :(\n      ")])],1)],2):t._e(),t._v(" "),1===t.showType?a("v-container",{attrs:{fluid:""}},[a("v-data-iterator",{attrs:{items:t.items,"content-tag":"v-layout",search:t.searchName,filter:t.taskFilter,"custom-filter":t.customFilter,row:"",wrap:"","hide-actions":""},scopedSlots:t._u([{key:"item",fn:function(e){return a("v-flex",{attrs:{xs3:""}},[a("v-card",{staticClass:"crad",attrs:{hover:""}},[a("v-card-media"),t._v(" "),a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(e.item.name))])]),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("div",[a("p",[a("span",{staticClass:"grey--text"},[t._v("结束时间：")]),t._v(t._s(e.item.endTime))]),t._v(" "),a("p",[a("span",{staticClass:"grey--text"},[t._v("每题奖励：")]),t._v(t._s(e.item.creditPerPic))]),t._v(" "),a("p",[a("span",{staticClass:"grey--text"},[t._v("完成奖励：")]),t._v(t._s(e.item.creditFinished))])])])],1)],1)}}])},[a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n          抱歉，目前没有可用的任务 :(\n        ")])],1)],2)],1):t._e()],1)},staticRenderFns:[]};var Z={name:"WorkerTask",components:{TaskPanel:a("VU/8")(G,K,!1,function(t){a("FM6s")},"data-v-00582e84",null).exports,InfoPanel:J},computed:{},data:function(){return{showType:0,active:0,searchName:""}},methods:{getMethodName:function(t){switch(t){case 1:return"单框标注";case 2:return"多框标注";case 3:return"不规则标注"}},updateTasks:function(){var t=this;this.$http.get("/task?type=available&workerId="+sessionStorage.getItem("id")).then(function(e){t.items=e.data})}},created:function(){this.updateTasks()}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs9:""}},[a("v-card",{staticClass:"taskPanel"},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("任务一览")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn-toggle",{attrs:{mandatory:""},model:{value:t.showType,callback:function(e){t.showType=e},expression:"showType"}},[a("v-btn",{attrs:{flat:""}},[a("v-icon",[t._v("view_list")])],1),t._v(" "),a("v-btn",{attrs:{flat:""}},[a("v-icon",[t._v("view_module")])],1)],1)],1),t._v(" "),a("v-tabs",{attrs:{light:"","slider-color":"indigo"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("v-tab",{key:"0",attrs:{ripple:""}},[t._v("\n            我的任务\n          ")]),t._v(" "),a("v-tab-item",{key:"0"},[a("TaskPanel",{attrs:{"show-type":t.showType,type:"available","search-name":t.searchName}})],1),t._v(" "),a("v-tab",{key:"1",attrs:{ripple:""}},[t._v("\n            已参与任务\n          ")]),t._v(" "),a("v-tab-item",{key:"1"},[a("TaskPanel",{attrs:{"show-type":t.showType,type:"doing","search-name":t.searchName}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"search",label:"搜索任务名称","single-line":"",small:""},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("InfoPanel")],1)],1)],1)},staticRenderFns:[]};var tt=a("VU/8")(Z,Q,!1,function(t){a("PYwu")},"data-v-a71e0968",null).exports,et=a("Xulq"),at=a.n(et),st={name:"SingleMark",props:["task"],data:function(){return{picOrderArray:[],preButton:!1,nextButton:!1,picOrder:0,stage:{},layer:{},imageObj:new Image,square:null,answer:{},description:"",drawFlag:!0}},methods:{picPath:function(){if(null!==this.task&&null!==this.picOrderArray)return"/pic/"+this.task.id+"/"+this.picOrderArray[this.picOrder]},submit:function(){var t=this.square;return{x:t.getWidth()<0?t.getX()+t.getWidth():t.getX(),y:t.getHeight()<0?t.getY()+t.getHeight():t.getY(),h:Math.abs(t.getHeight()),w:Math.abs(t.getWidth()),description:this.description,labelData:this.answer}},update:function(){var t=this;this.preButton=0===this.picOrder,this.nextButton=this.picOrder===this.picOrderArray.length-1,this.imageObj.src=this.picPath(),this.stage.setWidth(this.imageObj.width),this.stage.setHeight(this.imageObj.height),this.answer={},this.description="",this.$http.get("/square/"+this.task.id+"/"+this.picOrderArray[this.picOrder]).then(function(e){if(e.data.length>0){var a=e.data[0];t.square=new at.a.Rect({id:0,x:a.x,y:a.y,height:a.h,width:a.w,stroke:"red",strokeWidth:3}),t.layer.add(t.square),t.answer=a.labelData,t.description=a.description,t.layer.draw(),t.square.remove(),t.drawFlag=!0}})},save:function(){this.$http.post("/square/"+this.task.id+"/"+this.picOrderArray[this.picOrder],new Array(this.submit())).then(function(t){l.$emit("show-info","保存成功")})},getPrePic:function(){var t=this;this.$http.post("/square/"+this.task.id+"/"+this.picOrderArray[this.picOrder],new Array(this.submit())).then(function(e){t.picOrder--,t.update()})},getNextPic:function(){var t=this;this.$http.post("/square/"+this.task.id+"/"+this.picOrderArray[this.picOrder],new Array(this.submit())).then(function(e){t.picOrder++,t.update()})},clickEvent:function(t){this.drawFlag?(this.square=new at.a.Rect({id:0,x:t.evt.offsetX,y:t.evt.offsetY,stroke:"red",strokeWidth:3}),this.layer.add(this.square),this.drawFlag=!1):(this.square.setHeight(t.evt.offsetY-this.square.getY()),this.square.setWidth(t.evt.offsetX-this.square.getX()),this.layer.draw(),this.square.remove(),this.drawFlag=!0)},moveEvent:function(t){this.drawFlag||(this.square.setHeight(t.evt.offsetY-this.square.getY()),this.square.setWidth(t.evt.offsetX-this.square.getX()),this.layer.draw())}},created:function(){var t=this;this.$http.get("/task/"+this.$route.params.id+"/picOrder").then(function(e){t.picOrderArray=e.data,t.stage=new at.a.Stage({container:"imgStage",width:1400,height:500}),t.layer=new at.a.Layer({id:"square"});var a=new at.a.Layer({id:"pic"});t.stage.add(a);var s=t.imageObj,r=t.stage;s.onload=function(){var t=new at.a.Image({image:s,x:0,y:0,height:s.height,width:s.width});a.add(t),r.draw()},t.stage.on("click",t.clickEvent),t.stage.on("mousemove",t.moveEvent),t.stage.add(t.layer),t.stage.draw(),t.update()})}},rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.task.name))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary",to:"/worker/task"}},[t._v("返回")])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("span",{staticClass:"subheading"},[t._v(t._s(t.task.description))])]),t._v(" "),a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"","justify-space-between":""}},[a("v-flex",{attrs:{xs8:""}},[a("v-app",[a("v-toolbar",{attrs:{color:"indigo darken-3",height:"35"}},[a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:"",disabled:t.preButton},nativeOn:{click:function(e){return t.getPrePic(e)}}},[t._v("上一张")])],1),t._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:"",disabled:t.nextButton},nativeOn:{click:function(e){return t.getNextPic(e)}}},[t._v("下一张")])],1),t._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("保存")])],1)],1),t._v(" "),a("v-content",[a("div",{staticStyle:{position:"relative",overflow:"auto"},attrs:{id:"imgStage"}})])],1)],1),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("v-form",[t._l(t.task.labels,function(e){return a("v-layout",{key:e.title,attrs:{row:""}},[0===e.choices.length?a("v-text-field",{attrs:{label:e.title,required:""},model:{value:t.answer[e.title],callback:function(a){t.$set(t.answer,e.title,a)},expression:"answer[label.title]"}}):a("v-select",{attrs:{items:e.choices,label:e.title,required:""},model:{value:t.answer[e.title],callback:function(a){t.$set(t.answer,e.title,a)},expression:"answer[label.title]"}})],1)}),t._v(" "),t.task.hasWholeLabel?a("v-layout",{attrs:{row:""}},[a("v-text-field",{attrs:{label:"整体描述",required:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1):t._e()],2)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var it=a("VU/8")(st,rt,!1,function(t){a("KEH7")},"data-v-77e67106",null).exports,nt={name:"MultiMark",props:["props"],data:function(){return{task:{},picOrderArray:[],preButton:!1,nextButton:!1,deleteButton:!0,picOrder:0,stage:{},layer:{},imageObj:new Image,square:null,answer:{},answerArray:[],description:"",descriptionArray:[]}},methods:{picPath:function(){if(null!==this.task&&null!==this.picOrderArray)return"/pic/"+this.task.id+"/"+this.picOrderArray[this.picOrder]},getPostData:function(){var t=this.stage.get(".square");this.answerArray.length<t.length&&(this.answerArray.push(Object.assign({},this.answer)),this.descriptionArray.push(this.description));for(var e=[],a=0;a<t.length;a++){var s=t[a].getX(),r=t[a].getY(),i=t[a].getHeight(),n=t[a].getWidth(),o={x:n<0?s+n:s,y:i<0?r+i:r,w:Math.abs(n),h:Math.abs(i),labelData:this.answerArray[a]};this.task.hasWholeLabel&&(o.description=this.descriptionArray[a]),e.push(o)}return e},update:function(){var t=this;this.preButton=0===this.picOrder,this.nextButton=this.picOrder===this.picOrderArray.length-1,this.deleteButton=!0,this.imageObj.src=this.picPath(),this.stage.setWidth(this.imageObj.width),this.stage.setHeight(this.imageObj.height),this.layer.remove(),this.layer=new at.a.Layer({id:"square"}),this.stage.add(this.layer),this.answer={},this.answerArray=[],this.description="",this.descriptionArray=[],this.$http.get("/square/"+this.task.id+"/"+this.picOrderArray[this.picOrder]).then(function(e){for(var a=e.data,s=0;s<a.length;s++){var r=new at.a.Rect({name:"square",id:s,x:a[s].x,y:a[s].y,height:a[s].h,width:a[s].w,stroke:"red",strokeWidth:3});t.layer.add(r),r.on("click",t.chooseEvent),t.answerArray.push(a[s].labelData),t.task.hasWholeLabel&&t.descriptionArray.push(a[s].description)}t.stage.draw()})},getPrePic:function(){var t=this;this.$http.post("/square/"+this.task.id+"/"+this.picOrderArray[this.picOrder],this.getPostData()).then(function(e){t.picOrder--,t.update()})},getNextPic:function(){var t=this;this.$http.post("/square/"+this.task.id+"/"+this.picOrderArray[this.picOrder],this.getPostData()).then(function(e){t.picOrder++,t.update()})},deleteSquare:function(){for(var t=this.stage.get(".square"),e=0;e<t.length;e++)if("white"===t[e].getStroke()){t[e].remove(),this.layer.draw(),this.answerArray.splice(e,1),this.task.hasWholeLabel&&this.descriptionArray.splice(e,1);break}this.answer={},this.deleteButton=!0},clickEvent:function(t){var e=this.stage.get(".square");if(null===this.square){this.deleteButton=!0;for(var a=0;a<e.length;a++)e[a].setStroke("red");this.stage.draw(),this.answerArray.length<e.length&&(this.answerArray.push(Object.assign({},this.answer)),this.descriptionArray.push(Object.assign({},this.description))),this.answer={},this.description="",this.square=new at.a.Rect({name:"square",id:e.length,x:t.evt.offsetX,y:t.evt.offsetY,stroke:"red",strokeWidth:3}),this.layer.add(this.square)}else this.square.setHeight(t.evt.offsetY-this.square.getY()),this.square.setWidth(t.evt.offsetX-this.square.getX()),this.layer.draw(),this.square.on("click",this.chooseEvent),this.square=null},chooseEvent:function(t){this.deleteButton=!1;var e=this.stage.get(".square"),a=t.target;this.answerArray.length<e.length&&(this.answerArray.push(Object.assign({},this.answer)),this.descriptionArray.push(Object.assign({},this.description)),this.answer={},this.descriptionArray="");for(var s=0;s<e.length;s++)e[s].setStroke("red"),e[s].draw();a.setStroke("white"),a.draw(),this.answer=this.answerArray[a.getId()],this.description=this.descriptionArray[a.getId()],t.cancelBubble=!0},moveEvent:function(t){null!==this.square&&(this.square.setHeight(t.evt.offsetY-this.square.getY()),this.square.setWidth(t.evt.offsetX-this.square.getX()),this.layer.draw())},save:function(){this.$http.post("/square/"+this.task.id+"/"+this.picOrderArray[this.picOrder],this.getPostData()).then(function(t){l.$emit("show-info","保存成功")})}},created:function(){var t=this;this.$http.get("/task/"+this.$route.params.id).then(function(e){t.task=e.data}),this.$http.get("/task/"+this.$route.params.id+"/picOrder").then(function(e){t.picOrderArray=e.data,t.stage=new at.a.Stage({container:"imgStage",width:1400,height:500}),t.layer=new at.a.Layer({id:"square"});var a=new at.a.Layer({id:"pic"});t.stage.add(a);var s=t.imageObj,r=t.stage;s.onload=function(){var t=new at.a.Image({image:s,x:0,y:0,height:s.height,width:s.width});a.add(t),r.draw()},t.stage.on("click",t.clickEvent),t.stage.on("mousemove",t.moveEvent),t.stage.add(t.layer),t.stage.draw(),t.update()})}},ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.task.name))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary",to:"/worker/task"}},[t._v("返回")])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("span",{staticClass:"subheading"},[t._v(t._s(t.task.description))])]),t._v(" "),a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"","justify-space-between":""}},[a("v-flex",{attrs:{xs8:""}},[a("v-app",[a("v-toolbar",{attrs:{color:"indigo darken-3",height:"35"}},[a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:"",disabled:t.preButton},nativeOn:{click:function(e){return t.getPrePic(e)}}},[t._v("上一张")])],1),t._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:"",disabled:t.nextButton},nativeOn:{click:function(e){return t.getNextPic(e)}}},[t._v("下一张")])],1),t._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:"",disabled:t.deleteButton},nativeOn:{click:function(e){return t.deleteSquare(e)}}},[t._v("删除")])],1),t._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("保存")])],1)],1),t._v(" "),a("v-content",[a("div",{staticStyle:{position:"relative",overflow:"auto"},attrs:{id:"imgStage"}})])],1)],1),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("v-form",[t._l(t.task.labels,function(e){return a("v-layout",{key:e.title,attrs:{row:""}},[0===e.choices.length?a("v-text-field",{attrs:{label:e.title,required:""},model:{value:t.answer[e.title],callback:function(a){t.$set(t.answer,e.title,a)},expression:"answer[label.title]"}}):a("v-select",{attrs:{items:e.choices,label:e.title,required:""},model:{value:t.answer[e.title],callback:function(a){t.$set(t.answer,e.title,a)},expression:"answer[label.title]"}})],1)}),t._v(" "),t.task.hasWholeLabel?a("v-layout",{attrs:{row:""}},[a("v-text-field",{attrs:{label:"整体描述",required:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1):t._e()],2)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var lt=a("VU/8")(nt,ot,!1,function(t){a("kyGc")},"data-v-4cf4563c",null).exports,ct=function(){function t(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,a,s){return a&&t(e.prototype,a),s&&t(e,s),e}}();function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var dt=function t(e,a){vt(this,t),this.x=e,this.y=a},ut=function(){function t(e){vt(this,t),this.points=e,this.k=void 0}return ct(t,[{key:"append",value:function(t){if(0===this.points.length)this.points.push(t);else if(1===this.points.length){var e=this.points[0];this.k=(t.y-e.y)/(t.x-e.x),this.points.push(t)}else{var a=this.points[this.points.length-1],s=(t.y-a.y)/(t.x-a.x);this.k===s?(this.points.pop(),this.points.push(t)):(this.points.push(t),this.k=s)}}}]),t}(),pt=function(){function t(e){var a=this;vt(this,t),this.background=e,this.isDrawing=!1,this.paths=null,this.cxt=this.background.getContext("2d"),this.cxt.clearRect(0,0,this.background.width,this.background.height),this.cxt.strokeStyle="black",this.cxt.lineWidth=2,this.background.addEventListener("mousedown",function(t){return a.startDraw(t)}),this.background.addEventListener("mousemove",function(t){return a.drawing(t)}),this.background.addEventListener("mouseup",function(t){return a.endDraw(t)})}return ct(t,[{key:"drawPaths",value:function(){var t=this.paths.points.length-1;this.cxt.beginPath(),this.cxt.moveTo(this.paths.points[t].x,this.paths.points[t].y);var e=!0,a=!1,s=void 0;try{for(var r,i=this.paths.points[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var n=r.value;this.cxt.lineTo(n.x,n.y),this.cxt.stroke()}}catch(t){a=!0,s=t}finally{try{!e&&i.return&&i.return()}finally{if(a)throw s}}this.cxt.closePath()}},{key:"startDraw",value:function(t){if(!this.isDrawing){this.isDrawing=!0;var e=this.background.getBoundingClientRect(),a=t.clientX-parseInt(e.left),s=t.clientY-parseInt(e.top);this.paths=new ut([new dt(a,s)]),this.cxt.clearRect(0,0,this.background.width,this.background.height),this.cxt.beginPath(),this.cxt.moveTo(a,s)}}},{key:"drawing",value:function(t){if(this.isDrawing){var e=this.background.getBoundingClientRect(),a=t.clientX-parseInt(e.left),s=t.clientY-parseInt(e.top);this.cxt.lineTo(a,s),this.cxt.stroke(),this.paths.append(new dt(a,s))}}},{key:"endDraw",value:function(t){this.isDrawing&&(this.isDrawing=!1,this.paths.points.length<2?this.cxt.closePath():(this.cxt.closePath(),this.cxt.stroke()))}},{key:"output",value:function(){for(var t=0;t<this.paths.length;t++){console.log("--------------------------");var e=this.paths[t],a=!0,s=!1,r=void 0;try{for(var i,n=e.points[Symbol.iterator]();!(a=(i=n.next()).done);a=!0){var o=i.value;console.log(o.x+", "+o.y)}}catch(t){s=!0,r=t}finally{try{!a&&n.return&&n.return()}finally{if(s)throw r}}}}}]),t}(),ht={name:"AreaMark",data:function(){return{task:{},picOrderArray:[],preButton:!1,nextButton:!1,deleteButton:!0,picOrder:0,imageObj:new Image,drawer:{},answer:{},description:""}},methods:{picPath:function(){if(null!==this.task&&null!==this.picOrderArray){var t="/pic/"+this.task.id+"/"+this.picOrderArray[this.picOrder];return this.imageObj.src=t,t}},update:function(){var t=this;this.preButton=0===this.picOrder,this.nextButton=this.picOrder===this.picOrderArray.length-1,this.imageObj.src="http://120.79.145.97/image/"+this.task.id+"/"+this.picOrderArray[this.picOrder]+".png",this.answer={},this.description="",this.drawer=new pt(background),this.$http.get("/irregular/"+this.task.id+"/"+this.picOrderArray[this.picOrder]).then(function(e){t.drawer.paths=e.data,t.drawer.drawPaths()})},getPostData:function(){for(var t=0;t<this.drawer.paths.length;t++){console.log("--------------------------");var e=this.drawer.paths[t],a=!0,s=!1,r=void 0;try{for(var i,n=e.points[Symbol.iterator]();!(a=(i=n.next()).done);a=!0){var o=i.value;console.log(o.x+", "+o.y)}}catch(t){s=!0,r=t}finally{try{!a&&n.return&&n.return()}finally{if(s)throw r}}}return this.drawer.paths},save:function(){this.$http.post("/square/"+this.task.id+"/"+this.picOrderArray[this.picOrder],this.getPostData()).then(function(t){l.$emit("show-info","保存成功")})},getPrePic:function(){var t=this;this.$http.post("/square/"+this.task.id+"/"+this.picOrderArray[this.picOrder],this.getPostData()).then(function(e){t.picOrder--,t.update()})},getNextPic:function(){var t=this;this.$http.post("/square/"+this.task.id+"/"+this.picOrderArray[this.picOrder],this.getPostData()).then(function(e){t.picOrder++,t.update()})}},created:function(){var t=this;this.$http.get("/task/"+this.$route.params.id).then(function(e){t.task=e.data}),this.$http.get("/task/"+this.$route.params.id+"/picOrder").then(function(e){t.picOrderArray=e.data,t.update()})}},ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.task.name))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary",to:"/worker/task"}},[t._v("返回")])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("span",{staticClass:"subheading"},[t._v(t._s(t.task.description))])]),t._v(" "),a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"","justify-space-between":""}},[a("v-flex",{attrs:{xs8:""}},[a("v-app",[a("v-toolbar",{attrs:{color:"indigo darken-3",height:"35"}},[a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:"",disabled:t.preButton},nativeOn:{click:function(e){return t.getPrePic(e)}}},[t._v("上一张")])],1),t._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:"",disabled:t.nextButton},nativeOn:{click:function(e){return t.getNextPic(e)}}},[t._v("下一张")])],1),t._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("保存")])],1)],1),t._v(" "),a("v-content",[a("div",{attrs:{id:"imgdiv"}},[a("canvas",{attrs:{id:"background",height:t.imageObj.height,width:t.imageObj.width}},[t._v("\n                    抱歉，您的浏览器不支持画板功能\n                  ")]),t._v(" "),a("img",{attrs:{id:"picShow",src:t.picPath(),ondragstart:"return false;"}})])])],1)],1),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("v-form",[t._l(t.task.labels,function(e){return a("v-layout",{key:e.title,attrs:{row:""}},[0===e.choices.length?a("v-text-field",{attrs:{label:e.title,required:""},model:{value:t.answer[e.title],callback:function(a){t.$set(t.answer,e.title,a)},expression:"answer[label.title]"}}):a("v-select",{attrs:{items:e.choices,label:e.title,required:""},model:{value:t.answer[e.title],callback:function(a){t.$set(t.answer,e.title,a)},expression:"answer[label.title]"}})],1)}),t._v(" "),t.task.hasWholeLabel?a("v-layout",{attrs:{row:""}},[a("v-text-field",{attrs:{label:"整体描述",required:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1):t._e()],2)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var mt={name:"WorkerMark",components:{AreaMark:a("VU/8")(ht,ft,!1,function(t){a("4prO")},"data-v-5ee35a02",null).exports,MultiMark:lt,SingleMark:it},data:function(){return{task:{}}},created:function(){var t=this;this.$http.get("/task/"+this.$route.params.id).then(function(e){t.task=e.data})}},_t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[1===this.task.method?a("SingleMark",{attrs:{task:t.task}}):t._e(),t._v(" "),2===this.task.method?a("MultiMark",{attrs:{task:t.task}}):t._e(),t._v(" "),3===this.task.method?a("AreaMark",{attrs:{task:t.task}}):t._e()],1)},staticRenderFns:[]};var kt=a("VU/8")(mt,_t,!1,function(t){a("ItvZ")},"data-v-48ab6808",null).exports,bt={name:"WorkerRank",data:function(){return{expList:[],creditList:[],rankData:{}}},created:function(){var t=this;this.$http.get("/worker/data/rank?sorted=exp").then(function(e){t.expList=e.data}),this.$http.get("/worker/data/rank?sorted=credit").then(function(e){t.creditList=e.data}),this.$http.get("/worker/"+sessionStorage.getItem("id")+"/rankData").then(function(e){t.rankData=e.data})}},xt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:"","justify-space-between":""}},[a("v-flex",{attrs:{xs6:""}},[a("v-card",{staticClass:"card"},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("积分排行榜")]),t._v(" "),a("v-spacer"),t._v(" "),a("span",[t._v("我的排名："+t._s(t.rankData.exp))])],1),t._v(" "),a("v-card-text",[a("v-list",t._l(t.expList,function(e,s){return a("v-list-tile",{key:s,attrs:{avatar:""},on:{click:function(t){}}},[a("v-list-tile-avatar",[a("v-icon",{attrs:{color:s<3?"red darken-4":"grey darken-3"}},[t._v(t._s("filter_"+(s+1)))])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.name))]),t._v(" "),a("v-list-tile-sub-title",[t._v(t._s(e.signature))])],1),t._v(" "),a("v-list-tile-action",[t._v("\n                "+t._s(e.exp)+"\n              ")])],1)}))],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-card",{staticClass:"card"},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("经验值排行榜")]),t._v(" "),a("v-spacer"),t._v(" "),a("span",[t._v("我的排名："+t._s(t.rankData.credit))])],1),t._v(" "),a("v-card-text",[a("v-list",t._l(t.creditList,function(e,s){return a("v-list-tile",{key:s,attrs:{avatar:""},on:{click:function(t){}}},[a("v-list-tile-avatar",[a("v-icon",{attrs:{color:s<3?"red darken-4":"grey darken-3"}},[t._v(t._s("filter_"+(s+1)))])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.name))]),t._v(" "),a("v-list-tile-sub-title",[t._v(t._s(e.signature))])],1),t._v(" "),a("v-list-tile-action",[t._v("\n                "+t._s(e.credit)+"\n              ")])],1)}))],1)],1)],1)],1)],1)},staticRenderFns:[]};var gt=a("VU/8")(bt,xt,!1,function(t){a("MO05")},"data-v-a68eaba0",null).exports,wt={name:"WorkerCenter",computed:{subtitle:function(){return"经验值："+this.worker.exp+" 积分："+this.worker.credit}},data:function(){return{worker:{},tabIndex:0,editDialog:!1,dateMenu:!1,croppa:{},headers:[{text:"编号",sortable:!0,value:"id"},{text:"标题",sortable:!1,value:"title"},{text:"发布日期",sortable:!1,value:"startDate"}],items:[],recordHeaders:[{text:"结算日期",sortable:!0,value:"date"},{text:"结算说明",sortable:!1,value:"info"},{text:"积分变动",sortable:!1,value:"change"},{text:"余额",sortable:!1,value:"credit"}],records:[],notice:{title:"",content:"",endDate:"",type:0}}},methods:{save:function(t){this.$refs.menu.save(t)},submitItem:function(){var t=this;delete this.worker.id,delete this.worker.exp,delete this.worker.credit,delete this.worker.state,this.croppa.hasImage()?this.$http.put("/worker/"+sessionStorage.getItem("id"),this.worker).then(function(e){t.editDialog=!1,t.croppa.generateBlob(function(e){var a=new FormData;a.append("file",e),a.append("name",t.worker.name),a.append("type","worker"),t.$http.post("/avatar",a).then(function(t){})})}).catch(function(t){}):l.$emit("show-info","请选择头像")},update:function(){var t=this;this.$http.get("/notice").then(function(e){t.items=e.data}),this.$http.get("/record/task").then(function(e){t.records=e.data})}},created:function(){var t=this;this.$http.get("/worker/"+sessionStorage.getItem("id")).then(function(e){t.worker=e.data,t.update()})}},yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",[a("v-list",[a("v-list-tile",[a("v-list-tile-avatar",[a("v-avatar",[a("img",{attrs:{src:"http://120.79.145.97/image/1-2.png"}})])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(t.worker.name))]),t._v(" "),a("v-list-tile-sub-title",[t._v(t._s(t.subtitle))])],1),t._v(" "),a("v-list-tile-action",[a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.editDialog=!0}}},[a("v-icon",[t._v("edit")])],1)],1)],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("v-tabs",{model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("v-tab",{key:"0"},[t._v("我的消息")]),t._v(" "),a("v-tab",{key:"1"},[t._v("我的积分")]),t._v(" "),a("v-tab",{key:"2"},[t._v("我的任务")]),t._v(" "),a("v-tab-item",{key:"0"},[a("v-data-table",{attrs:{headers:t.headers,items:t.items,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{on:{click:function(t){e.expanded=!e.expanded}}},[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.title))]),t._v(" "),a("td",[t._v(t._s(e.item.startDate))])])]}},{key:"expand",fn:function(e){return[a("v-card",{attrs:{flat:""}},[a("v-card-text",[t._v(t._s(e.item.content))])],1)]}}])},[a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n                    没有找到通知数据 :(\n                  ")])],1)],2)],1),t._v(" "),a("v-tab-item",{key:"1"},[a("v-data-table",{attrs:{headers:t.recordHeaders,items:t.records,"item-key":"date","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",[a("td",[t._v(t._s(e.item.date))]),t._v(" "),a("td",[t._v(t._s(e.item.info))]),t._v(" "),a("td",[t._v(t._s(e.item.change))]),t._v(" "),a("td",[t._v(t._s(e.item.credit))])])]}}])})],1)],1)],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"500",fullscreen:"",scrollable:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.editDialog=!1}}},[a("v-icon",[t._v("close")])],1),t._v(" "),a("v-toolbar-title",[t._v("修改个人信息")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){return t.submitItem(e)}}},[t._v("保存")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{attrs:{model:t.worker}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("croppa",{attrs:{placeholder:"点击此处上传头像",quality:1,"zoom-speed":10,"prevent-white-space":"","initial-image":"/api/avatar"},model:{value:t.croppa,callback:function(e){t.croppa=e},expression:"croppa"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{label:"用户名","prepend-icon":"account_box",required:""},model:{value:t.worker.name,callback:function(e){t.$set(t.worker,"name",e)},expression:"worker.name"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{label:"密码","prepend-icon":"lock",type:"password",required:""},model:{value:t.worker.key,callback:function(e){t.$set(t.worker,"key",e)},expression:"worker.key"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-radio-group",{attrs:{row:"","prepend-icon":"supervisor_account"},model:{value:t.worker.sex,callback:function(e){t.$set(t.worker,"sex",t._n(e))},expression:"worker.sex"}},[a("v-radio",{attrs:{label:"男性",value:0}}),t._v(" "),a("v-radio",{attrs:{label:"女性",value:1}})],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:"","justify-space-between":""}},[a("v-flex",{attrs:{xs5:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"生日","prepend-icon":"event",readonly:"",required:""},slot:"activator",model:{value:t.worker.birth,callback:function(e){t.$set(t.worker,"birth",e)},expression:"worker.birth"}}),t._v(" "),a("v-date-picker",{ref:"picker",attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},on:{change:function(e){t.save(t.worker.birth)}},model:{value:t.worker.birth,callback:function(e){t.$set(t.worker,"birth",e)},expression:"worker.birth"}})],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{label:"邮箱","prepend-icon":"email",type:"email",required:""},model:{value:t.worker.email,callback:function(e){t.$set(t.worker,"email",e)},expression:"worker.email"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{"prepend-icon":"description",label:"个性签名"},model:{value:t.worker.signature,callback:function(e){t.$set(t.worker,"signature",e)},expression:"worker.signature"}})],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var Ct=a("VU/8")(wt,yt,!1,function(t){a("c9UG")},"data-v-184c605c",null).exports,$t={name:"AdminTable",computed:{},data:function(){return{drawer:!1,editDialog:!1,dialogTitle:"修改管理员信息",deleteDialog:!1,color:"indigo",selected:[],authItems:[{text:"发起者管理员",value:1},{text:"工人管理员",value:2}],listItem:[{icon:"people",text:"管理员设置",path:"/superAdmin/index"},{icon:"poll",text:"用户数据统计",path:""},{icon:"timeline",text:"任务数据统计",path:""}],headers:[{text:"编号",sortable:!0,value:"id"},{text:"用户名",sortable:!1,value:"name"},{text:"真实姓名",sortable:!1,value:"actualName"},{text:"性别",sortable:!1,value:"sex"},{text:"权限",sortable:!1,value:"auth"},{text:"操作",sortable:!1,value:"action"}],desserts:[],adminIndex:0,adminId:0,admin:{name:"",actualName:"",sex:0,auth:1,key:""}}},methods:{getSex:function(t){return 0===t?"男":"女"},getAdminType:function(t){return 1===t?"发起者管理员":"工人管理员"},openDialog:function(t){var e=this;null==t?(this.admin={name:"",actualName:"",sex:0,auth:1,key:""},this.dialogTitle="新增管理员信息",this.adminId=-1):(this.adminId=t.id,this.adminIndex=this.desserts.indexOf(t),this.$http.get("/admin/"+this.adminId).then(function(t){e.admin=t.data}),this.dialogTitle="修改管理员信息"),this.editDialog=!0},openDelDialog:function(t){this.deleteDialog=!0,this.adminId=t.id,this.admin.name=t.name},submitItem:function(){var t=this;if(this.editDialog=!1,this.adminId<0)this.$http.post("/admin",this.admin).then(function(e){l.$emit("show-info","成功增加管理员"+t.admin.name)}),this.$http.get("/admin").then(function(e){t.desserts=e.data});else{this.$http.put("/admin/"+this.adminId+"/setAuth",{auth:this.admin.auth}).then(function(t){}).catch(function(e){l.$emit("show-info",t.admin.name+"管理员权限修改失败")});var e=this.admin.auth;delete this.admin.auth,this.$http.put("/admin/"+this.adminId,this.admin).then(function(a){t.admin.auth=e;var s=t.admin;s.id=t.adminId,t.desserts.splice(t.adminIndex,1,s),console.log(t),l.$emit("show-info",t.admin.name+"管理员修改成功")})}},deleteItem:function(){var t=this;this.deleteDialog=!1,this.$http.delete("/admin/"+this.adminId).then(function(e){t.desserts.splice(t.adminIndex,1),l.$emit("show-info",t.admin.name+"管理员已被删除")})}},created:function(){var t=this;this.$http.get("/admin").then(function(e){t.desserts=e.data})}},Tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs10:"","offset-xs1":""}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("管理员列表")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{on:{click:function(e){t.openDialog(null)}}},[a("v-icon",[t._v("add")]),t._v(" "),a("span",[t._v("增加")])],1)],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.desserts,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",[t._v(t._s(e.item.actualName))]),t._v(" "),a("td",[t._v(t._s(t.getSex(e.item.sex)))]),t._v(" "),a("td",[t._v(t._s(t.getAdminType(e.item.auth)))]),t._v(" "),a("td",{staticClass:"layout px-0"},[a("v-layout",{attrs:{row:"","justify-space-around":""}},[a("v-flex",{attrs:{"xs-1":""}},[a("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(a){t.openDialog(e.item)}}},[a("v-icon",{attrs:{color:"teal"}},[t._v("edit")])],1)],1),t._v(" "),a("v-flex",{attrs:{"xs-1":""}},[a("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(a){t.openDelDialog(e.item)}}},[a("v-icon",{attrs:{color:"blue-grey"}},[t._v("delete")])],1)],1)],1)],1)])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n            没有找到管理员数据 :(\n          ")])],1)],2)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"500",lazy:"","hide-overlay":"",persistent:""},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.dialogTitle))]),t._v(" "),a("v-card-text",[a("v-form",{attrs:{model:t.admin}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs10:""}},[a("v-text-field",{attrs:{label:"用户名","prepend-icon":"account_box",required:""},model:{value:t.admin.name,callback:function(e){t.$set(t.admin,"name",e)},expression:"admin.name"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs10:""}},[a("v-text-field",{attrs:{label:"真实姓名","prepend-icon":"perm_identity",required:""},model:{value:t.admin.actualName,callback:function(e){t.$set(t.admin,"actualName",e)},expression:"admin.actualName"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs10:""}},[a("v-text-field",{attrs:{label:"密码","prepend-icon":"lock",type:"password",required:""},model:{value:t.admin.key,callback:function(e){t.$set(t.admin,"key",e)},expression:"admin.key"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs10:""}},[a("v-select",{attrs:{items:t.authItems,"item-value":"value",label:"权限","prepend-icon":"vpn_key"},model:{value:t.admin.auth,callback:function(e){t.$set(t.admin,"auth",t._n(e))},expression:"admin.auth"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-radio-group",{attrs:{row:"","prepend-icon":"supervisor_account"},model:{value:t.admin.sex,callback:function(e){t.$set(t.admin,"sex",t._n(e))},expression:"admin.sex"}},[a("v-radio",{attrs:{label:"男性",value:0}}),t._v(" "),a("v-radio",{attrs:{label:"女性",value:1}})],1)],1)],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:function(e){t.submitItem()}}},[t._v("完成")]),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:""},nativeOn:{click:function(e){t.editDialog=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"500px","hide-overlay":"",persistent:""},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",[a("span",[t._v("确认删除管理员："+t._s(t.admin.name)+" ？")]),t._v(" "),a("v-spacer")],1),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"red",flat:""},on:{click:t.deleteItem}},[t._v("删除")]),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){e.stopPropagation(),t.deleteDialog=!1}}},[t._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var It=a("VU/8")($t,Tt,!1,function(t){a("yNkk")},"data-v-d74be4f2",null).exports,qt={name:"RequesterTable",watch:{dateMenu:function(t){var e=this;t&&this.$nextTick(function(){return e.$refs.picker.activePicker="YEAR"})}},data:function(){return{editDialog:!1,dateMenu:!1,headers:[{text:"编号",sortable:!0,value:"id"},{text:"用户名",sortable:!0,value:"name"},{text:"生日",sortable:!1,value:"birth"},{text:"性别",sortable:!1,value:"sex"},{text:"邮箱",sortable:!1,value:"email"},{text:"操作",sortable:!1,value:""}],items:[],requesterId:0,requester:{id:0,name:"",key:"",birth:"",sex:"",email:"",occupation:"",company:""}}},methods:{getSex:function(t){return 0===t?"男":"女"},save:function(t){this.$refs.menu.save(t)},updateTable:function(){var t=this;this.$http.get("/requester?type=checked").then(function(e){t.items=e.data})},openDialog:function(t){var e=this;this.$http.get("/requester/"+t).then(function(t){e.requester=t.data,e.editDialog=!0}).catch(function(t){l.$emit("show-info",t.data)})},submitItem:function(){var t=this,e=this.requester.id;delete this.requester.id,delete this.requester.state,this.$http.put("/requester/"+e,this.requester).then(function(e){t.updateTable(),t.editDialog=!1,l.$emit("sho-info",t.requester.name+"发起者修改成功")}).catch(function(t){l.$emit("show-info",t.data)})}},created:function(){this.updateTable()}},Dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs10:"","offset-xs1":""}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("发起者列表")]),t._v(" "),a("v-spacer")],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.items,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",[t._v(t._s(e.item.birth))]),t._v(" "),a("td",[t._v(t._s(t.getSex(e.item.sex)))]),t._v(" "),a("td",[t._v(t._s(e.item.email))]),t._v(" "),a("td",{staticClass:"layout px-0"},[a("v-layout",{attrs:{row:"","justify-space-around":""}},[a("v-flex",{attrs:{"xs-1":""}},[a("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(a){t.openDialog(e.item.id)}}},[a("v-icon",{attrs:{color:"teal"}},[t._v("edit")])],1)],1)],1)],1)])]}}])},[a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n            没有找到发起者的数据 :(\n          ")])],1)],2)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"500",fullscreen:"",scrollable:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.editDialog=!1}}},[a("v-icon",[t._v("close")])],1),t._v(" "),a("v-toolbar-title",[t._v("修改发起者信息")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){return t.submitItem(e)}}},[t._v("保存")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{attrs:{model:t.requester}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{label:"用户名","prepend-icon":"account_box",required:""},model:{value:t.requester.name,callback:function(e){t.$set(t.requester,"name",e)},expression:"requester.name"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{label:"密码","prepend-icon":"lock",type:"password",required:""},model:{value:t.requester.key,callback:function(e){t.$set(t.requester,"key",e)},expression:"requester.key"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-radio-group",{attrs:{row:"","prepend-icon":"supervisor_account"},model:{value:t.requester.sex,callback:function(e){t.$set(t.requester,"sex",t._n(e))},expression:"requester.sex"}},[a("v-radio",{attrs:{label:"男性",value:0}}),t._v(" "),a("v-radio",{attrs:{label:"女性",value:1}})],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:"","justify-space-between":""}},[a("v-flex",{attrs:{xs5:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"生日","prepend-icon":"event",readonly:"",required:""},slot:"activator",model:{value:t.requester.birth,callback:function(e){t.$set(t.requester,"birth",e)},expression:"requester.birth"}}),t._v(" "),a("v-date-picker",{ref:"picker",attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},on:{change:function(e){t.save(t.requester.birth)}},model:{value:t.requester.birth,callback:function(e){t.$set(t.requester,"birth",e)},expression:"requester.birth"}})],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{label:"邮箱","prepend-icon":"email",type:"email",required:""},model:{value:t.requester.email,callback:function(e){t.$set(t.requester,"email",e)},expression:"requester.email"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{"prepend-icon":"turned_in",label:"职务"},model:{value:t.requester.occupation,callback:function(e){t.$set(t.requester,"occupation",e)},expression:"requester.occupation"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{"prepend-icon":"card_travel",label:"公司"},model:{value:t.requester.company,callback:function(e){t.$set(t.requester,"company",e)},expression:"requester.company"}})],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var jt=a("VU/8")(qt,Dt,!1,function(t){a("Bt8s")},"data-v-80e640e2",null).exports,Ot={name:"WorkerTable",data:function(){return{editDialog:!1,dateMenu:!1,types:[{text:"全部",value:"all"},{text:"正常用户",value:"active"},{text:"已封禁用户",value:"locked"}],type:"all",headers:[{text:"编号",sortable:!0,value:"id"},{text:"用户名",sortable:!0,value:"name"},{text:"生日",sortable:!1,value:"birth"},{text:"性别",sortable:!1,value:"sex"},{text:"邮箱",sortable:!1,value:"email"},{text:"经验值",sortable:!1,value:"exp"},{text:"积分",sortable:!1,value:"credit"},{text:"操作",sortable:!1,value:""}],items:[],workerId:0,worker:{id:0,name:"",key:"",birth:"",sex:"",email:"",signature:""}}},watch:{type:function(){this.updateTable()}},methods:{getSex:function(t){return 0===t?"男":"女"},save:function(t){this.$refs.menu.save(t)},updateTable:function(){var t=this;this.$http.get("/worker?type="+this.type).then(function(e){t.items=e.data})},openDialog:function(t){var e=this;this.$http.get("/worker/"+t).then(function(a){e.workerId=t,e.worker=a.data,e.editDialog=!0}).catch(function(t){l.$emit("show",t.data)})},submitItem:function(){var t=this;delete this.worker.id,delete this.worker.exp,delete this.worker.credit,delete this.worker.state,this.$http.put("/worker/"+this.workerId,this.worker).then(function(e){t.updateTable(),t.editDialog=!1,l.$emit("show-info",t.worker.name+"工人信息修改成功")}).catch(function(t){l.$emit("show-info",t.data)})},unlock:function(t){var e=this;this.$http.post("/worker/unlock/"+t.id).then(function(t){e.updateTable(),l.$emit("show-info",e.worker.name+"工人已被解封")}).catch(function(t){l.$emit("show-info",t.data)})},lock:function(t){var e=this;this.$http.post("/worker/lock/"+t.id).then(function(t){e.updateTable(),l.$emit("show-info",e.worker.name+"工人已被封禁")}).catch(function(t){l.$emit("show-info",t.data)})}},created:function(){this.updateTable()}},St={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs10:"","offset-xs1":""}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("工人列表")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-select",{staticStyle:{width:"200px"},attrs:{items:t.types,label:"筛选","min-width":"200","single-line":""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.items,"item-key":"id","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",[t._v(t._s(e.item.birth))]),t._v(" "),a("td",[t._v(t._s(t.getSex(e.item.sex)))]),t._v(" "),a("td",[t._v(t._s(e.item.email))]),t._v(" "),a("td",[t._v(t._s(e.item.exp))]),t._v(" "),a("td",[t._v(t._s(e.item.credit))]),t._v(" "),a("td",{staticClass:"layout px-0"},[a("v-layout",{attrs:{row:"","justify-space-around":""}},[a("v-flex",{attrs:{"xs-1":""}},[a("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(a){t.openDialog(e.item.id)}}},[a("v-icon",{attrs:{color:"teal"}},[t._v("edit")])],1)],1),t._v(" "),a("v-flex",[0===e.item.state?a("v-btn",{staticClass:"mx-0",on:{click:function(a){t.lock(e.item)}}},[a("v-icon",{attrs:{color:"red darken-3"}},[t._v("lock")]),t._v("封禁\n                  ")],1):t._e(),t._v(" "),1===e.item.state?a("v-btn",{staticClass:"mx-0",on:{click:function(a){t.unlock(e.item)}}},[a("v-icon",{attrs:{color:"blue darken-4"}},[t._v("reply")]),t._v("解封\n                  ")],1):t._e()],1)],1)],1)])]}}])},[a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n            没有找到工人的数据 :(\n          ")])],1)],2)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"500",fullscreen:"",scrollable:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.editDialog=!1}}},[a("v-icon",[t._v("close")])],1),t._v(" "),a("v-toolbar-title",[t._v("修改工人信息")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){return t.submitItem(e)}}},[t._v("保存")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{attrs:{model:t.worker}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{label:"用户名","prepend-icon":"account_box",required:""},model:{value:t.worker.name,callback:function(e){t.$set(t.worker,"name",e)},expression:"worker.name"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{label:"密码","prepend-icon":"lock",type:"password",required:""},model:{value:t.worker.key,callback:function(e){t.$set(t.worker,"key",e)},expression:"worker.key"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-radio-group",{attrs:{row:"","prepend-icon":"supervisor_account"},model:{value:t.worker.sex,callback:function(e){t.$set(t.worker,"sex",t._n(e))},expression:"worker.sex"}},[a("v-radio",{attrs:{label:"男性",value:0}}),t._v(" "),a("v-radio",{attrs:{label:"女性",value:1}})],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:"","justify-space-between":""}},[a("v-flex",{attrs:{xs5:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"生日","prepend-icon":"event",readonly:"",required:""},slot:"activator",model:{value:t.worker.birth,callback:function(e){t.$set(t.worker,"birth",e)},expression:"worker.birth"}}),t._v(" "),a("v-date-picker",{ref:"picker",attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},on:{change:function(e){t.save(t.worker.birth)}},model:{value:t.worker.birth,callback:function(e){t.$set(t.worker,"birth",e)},expression:"worker.birth"}})],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{label:"邮箱","prepend-icon":"email",type:"email",required:""},model:{value:t.worker.email,callback:function(e){t.$set(t.worker,"email",e)},expression:"worker.email"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{"prepend-icon":"description",label:"个人签名"},model:{value:t.worker.signature,callback:function(e){t.$set(t.worker,"signature",e)},expression:"worker.signature"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}})],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var Ft={name:"IndexPage",components:{WorkerTable:a("VU/8")(Ot,St,!1,function(t){a("G+Sq")},"data-v-1277c03b",null).exports,RequesterTable:jt,AdminTable:It},data:function(){return{adminType:sessionStorage.getItem("type")}}},Pt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","fill-height":""}},["superAdmin"===t.adminType?a("AdminTable"):t._e(),t._v(" "),"requesterAdmin"===t.adminType?a("RequesterTable"):t._e(),t._v(" "),"workerAdmin"===t.adminType?a("WorkerTable"):t._e()],1)},staticRenderFns:[]};var At=a("VU/8")(Ft,Pt,!1,function(t){a("r8bT")},"data-v-127e0e85",null).exports,Nt={name:"WorkerLogin",data:function(){return{gradient:"to top right, rgba(63,81,181, .3), rgba(25,32,72, .3)",title:"众包标注平台",sub_title:"Crowdsourcing Tags",welcome:"Hi, 亲爱的标注工人, 欢迎登录~",items:[{action:"label",title:"每日签到可增加经验值哦"},{action:"label",title:"记得查看系统邮件，说不定有惊喜呢"},{action:"label",title:"如遇到问题请联系我们，管理员会尽快给您反馈"}],loginData:{name:"",key:"",type:"worker"}}},methods:{login:function(){var t=this;this.$http.post("/login",this.loginData).then(function(e){var a=e.data.result;"success"===a?(sessionStorage.setItem("id",e.data.id),sessionStorage.setItem("name",e.data.name),sessionStorage.setItem("type",e.data.type),t.$router.push("/worker/task")):"failed"===a&&t.$message.warning(e.data.message)}).catch(function(t){console.log(t)})}}},Lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"worker_login"}},[a("v-toolbar",{attrs:{id:"toolbar",color:"transparent",dark:"",app:"",flat:""}},[a("v-spacer"),t._v(" "),a("v-toolbar-items",[a("v-btn",{staticClass:"head_buttons",attrs:{color:"transparent",depressed:"",to:"/"}},[a("v-icon",{attrs:{dark:"",left:""}},[t._v("reply")]),t._v("\n      返回首页\n    ")],1)],1)],1),t._v(" "),a("v-jumbotron",{attrs:{src:"/static/light_train.jpg",dark:"",height:"200px",gradient:t.gradient}},[a("v-container",{attrs:{"fill-height":""}},[a("v-layout",{staticClass:"text-lg-left",attrs:{"align-center":""}},[a("v-flex",[a("h3",{staticClass:"display-2"},[t._v(t._s(t.title))]),t._v(" "),a("span",{staticClass:"subheading"},[t._v(t._s(t.sub_title))])])],1)],1)],1),t._v(" "),a("v-content",{attrs:{id:"content"}},[a("v-container",[a("v-layout",{staticClass:"text-lg-left",attrs:{"align-center":""}},[a("v-flex",{attrs:{xs12:"",sm7:""}},[a("div",{staticClass:" headline  mb-2 ",attrs:{id:"welcome"}},[t._v(t._s(t.welcome))]),t._v(" "),a("em",{staticClass:"grey--text"},[t._v("注意阅读右方提示信息噢")]),t._v(" "),a("v-divider",{staticClass:"my-3"}),t._v(" "),a("v-card",[a("v-card-text",[a("v-form",{attrs:{model:t.loginData}},[a("v-text-field",{attrs:{color:"blue-grey darken-2","prepend-icon":"person",label:"用户名",type:"text"},model:{value:t.loginData.name,callback:function(e){t.$set(t.loginData,"name",e)},expression:"loginData.name"}}),t._v(" "),a("v-text-field",{attrs:{color:"blue-grey darken-2","prepend-icon":"lock",label:"密码",id:"password",type:"password"},model:{value:t.loginData.key,callback:function(e){t.$set(t.loginData,"key",e)},expression:"loginData.key"}}),t._v(" "),a("v-text-field",{attrs:{color:"blue-grey darken-2","prepend-icon":"vpn_key",label:"验证码",type:"text"}})],1),t._v(" "),a("em",[t._v("忘记密码？")]),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("点我找回")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{dark:"",color:"indigo darken-3"},on:{click:t.login}},[t._v("登录")])],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm1":""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-title",{staticClass:"layout ",attrs:{"primary-title":""}},[a("div",{staticClass:"headline",attrs:{id:"tip"}},[t._v("小贴士")])]),t._v(" "),a("v-list",{staticClass:"transparent"},[t._l(t.items,function(e,s){return[e.action?a("v-list-tile",{key:e.title},[a("v-list-tile-action",[a("v-icon",{attrs:{color:"indigo"}},[t._v(t._s(e.action))])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))])],1)],1):t._e()]})],2)],1)],1)],1)],1),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("v-footer",{staticClass:"indigo darken-3",attrs:{id:"footer"}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"","text-xs-center":""}},[a("div",{staticClass:"white--text ml-3"},[t._v("\n            Made with\n            "),a("v-icon",{staticClass:"red--text"},[t._v("favorite")]),t._v("\n            by AlphaCat Team\n          ")],1)])],1)],1)],1)],1)},staticRenderFns:[]};var Et=a("VU/8")(Nt,Lt,!1,function(t){a("Wcp9")},"data-v-14dc19b6",null).exports,Mt={name:"RequesterLogin",data:function(){return{gradient:"to left, rgba(5,5,5,.3), rgba(120,0,70, .6)",title:"众包标注平台",sub_title:"Crowdsourcing Tags",welcome:"Hi, 亲爱的发布者, 欢迎登录~",items:[{action:"label",title:"加入我们的会员，采集质量更有保障哦"},{action:"label",title:"记得查看系统邮件，说不定有惊喜呢"},{action:"label",title:"如遇到问题请联系我们，管理员会尽快给您反馈"}],loginData:{name:"",key:"",type:"requester"}}},methods:{login:function(){var t=this;this.$http.post("/login",this.loginData).then(function(e){var a=e.data.result;"success"===a?(sessionStorage.setItem("id",e.data.id),sessionStorage.setItem("name",e.data.name),sessionStorage.setItem("type",e.data.type),t.$router.push("/requester/index")):"failed"===a&&l.$emit("show-info",e.data.info)}).catch(function(t){console.log(t)})}}},Rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"publisher_login"}},[a("v-toolbar",{attrs:{id:"toolbar",color:"transparent",dark:"",app:"",flat:""}},[a("v-spacer"),t._v(" "),a("v-toolbar-items",[a("v-btn",{staticClass:"head_buttons",attrs:{color:"transparent",depressed:"",to:"/"}},[a("v-icon",{attrs:{dark:"",left:""}},[t._v("reply")]),t._v("返回首页\n    ")],1)],1)],1),t._v(" "),a("v-jumbotron",{attrs:{src:"/static/purple_mountain.jpg",dark:"",height:"200px",gradient:t.gradient}},[a("v-container",{attrs:{"fill-height":""}},[a("v-layout",{staticClass:"text-lg-left",attrs:{"align-center":""}},[a("v-flex",[a("h3",{staticClass:"display-2"},[t._v(t._s(t.title))]),t._v(" "),a("span",{staticClass:"subheading"},[t._v(t._s(t.sub_title))])])],1)],1)],1),t._v(" "),a("v-content",{attrs:{id:"content"}},[a("v-container",[a("v-layout",{staticClass:"text-lg-left",attrs:{"align-center":""}},[a("v-flex",{attrs:{xs12:"",sm7:""}},[a("div",{staticClass:" headline  mb-3 ",attrs:{id:"welcome"}},[t._v(t._s(t.welcome))]),t._v(" "),a("em",{staticClass:"grey--text"},[t._v("注意阅读右方提示信息噢")]),t._v(" "),a("v-divider",{staticClass:"my-3"}),t._v(" "),a("v-card",[a("v-card-text",[a("v-form",{attrs:{model:t.loginData}},[a("v-text-field",{attrs:{color:"blue-grey darken-2","prepend-icon":"person",label:"用户名",type:"text"},model:{value:t.loginData.name,callback:function(e){t.$set(t.loginData,"name",e)},expression:"loginData.name"}}),t._v(" "),a("v-text-field",{attrs:{color:"blue-grey darken-2","prepend-icon":"lock",label:"密码",id:"password",type:"password"},model:{value:t.loginData.key,callback:function(e){t.$set(t.loginData,"key",e)},expression:"loginData.key"}}),t._v(" "),a("v-text-field",{attrs:{color:"blue-grey darken-2","prepend-icon":"vpn_key",label:"验证码",type:"text"}})],1),t._v(" "),a("em",[t._v("忘记密码？")]),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("点我找回")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{dark:"",color:"purple darken-2"},on:{click:t.login}},[t._v("登录")])],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm1":""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-title",{staticClass:"layout ",attrs:{"primary-title":""}},[a("div",{staticClass:"headline",attrs:{id:"tip"}},[t._v("小贴士")])]),t._v(" "),a("v-list",{staticClass:"transparent"},[t._l(t.items,function(e,s){return[e.action?a("v-list-tile",{key:e.title},[a("v-list-tile-action",[a("v-icon",{attrs:{color:"purple darken-1"}},[t._v(t._s(e.action))])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))])],1)],1):t._e()]})],2)],1)],1)],1)],1),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("v-footer",{staticClass:"purple darken-2",attrs:{id:"footer"}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"","text-xs-center":""}},[a("div",{staticClass:"white--text ml-3"},[t._v("\n            Made with\n            "),a("v-icon",{staticClass:"red--text"},[t._v("favorite")]),t._v("\n            by AlphaCat Team\n          ")],1)])],1)],1)],1)],1)},staticRenderFns:[]};var zt=a("VU/8")(Mt,Rt,!1,function(t){a("3Z2m")},"data-v-4a1bf4cc",null).exports,Ut={name:"AdminLogin",data:function(){return{gradient:"to top right, rgba(0,0,128,.6), rgba(136,0,128, .6",title:"众包标注平台",sub_title:"Crowdsourcing Tags",welcome:"Hi, 亲爱的系统管理员, 欢迎登录~",encourage:"您的每一份用心，都会为平台的质量保障增添力量。",loginData:{name:"",key:"",type:"admin"}}},methods:{login:function(){var t=this;this.$http.post("/login",this.loginData).then(function(e){var a=e.data.result;"success"===a?(sessionStorage.setItem("id",e.data.id),sessionStorage.setItem("name",e.data.name),sessionStorage.setItem("type",e.data.type),t.$router.push("/admin/index")):"failed"===a&&l.$emit("show-info",a.message)}).catch(function(t){console.log(t)})}}},Bt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"admin_login"}},[a("v-toolbar",{attrs:{id:"toolbar",color:"transparent",dark:"",app:"",flat:""}},[a("v-spacer"),t._v(" "),a("v-toolbar-items",[a("v-btn",{staticClass:"head_buttons",attrs:{color:"transparent",depressed:"",to:"/"}},[a("v-icon",{attrs:{dark:"",left:""}},[t._v("reply")]),t._v("\n      返回首页\n    ")],1)],1)],1),t._v(" "),a("v-jumbotron",{attrs:{src:"/static/triangle2.jpg",dark:"",height:"200px",gradient:t.gradient}},[a("v-container",{attrs:{"fill-height":""}},[a("v-layout",{staticClass:"text-lg-left",attrs:{"align-center":""}},[a("v-flex",[a("h3",{staticClass:"display-2"},[t._v(t._s(t.title))]),t._v(" "),a("span",{staticClass:"subheading"},[t._v(t._s(t.sub_title))])])],1)],1)],1),t._v(" "),a("v-content",{attrs:{id:"content"}},[a("v-container",[a("v-layout",{staticClass:"text-lg-left",attrs:{"align-center":""}},[a("v-flex",{attrs:{xs12:"",sm7:""}},[a("div",{staticClass:" headline  mb-2 ",attrs:{id:"welcome"}},[t._v(t._s(t.welcome))]),t._v(" "),a("em",{staticClass:"grey--text"},[t._v("注意阅读右方提示信息噢")]),t._v(" "),a("v-divider",{staticClass:"my-3"}),t._v(" "),a("v-card",[a("v-card-text",[a("v-form",{attrs:{model:t.loginData}},[a("v-text-field",{attrs:{color:"blue-grey darken-2","prepend-icon":"person",label:"用户名",type:"text"},model:{value:t.loginData.name,callback:function(e){t.$set(t.loginData,"name",e)},expression:"loginData.name"}}),t._v(" "),a("v-text-field",{attrs:{color:"blue-grey darken-2","prepend-icon":"lock",label:"密码",id:"password",type:"password"},model:{value:t.loginData.key,callback:function(e){t.$set(t.loginData,"key",e)},expression:"loginData.key"}}),t._v(" "),a("v-text-field",{attrs:{color:"blue-grey darken-2","prepend-icon":"vpn_key",label:"验证码",type:"text"}})],1),t._v(" "),a("em",[t._v("忘记密码？")]),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("点我找回")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{dark:"",color:"blue-grey darken-2"},on:{click:t.login}},[t._v("登录")])],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm1":""}},[a("v-card",{staticClass:"elevation-0 transparent"},[a("v-card-text",{attrs:{id:"encourage"}},[t._v(t._s(t.encourage))])],1)],1)],1)],1),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("v-footer",{staticClass:"blue-grey darken-2",attrs:{id:"footer"}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"","text-xs-center":""}},[a("div",{staticClass:"white--text ml-3"},[t._v("\n            Made with\n            "),a("v-icon",{staticClass:"red--text"},[t._v("favorite")]),t._v("\n            by AlphaCat Team\n          ")],1)])],1)],1)],1)],1)},staticRenderFns:[]};var Wt=a("VU/8")(Ut,Bt,!1,function(t){a("KYX3")},"data-v-4db935dc",null).exports,Vt={name:"RequesterIndex",computed:{showBadge:function(){return 0!==this.noticeNumber}},data:function(){return{noticeNumber:0,drawer:!0,mini:!1,barTitle:"任务中心",requesterName:sessionStorage.getItem("name"),requesterRank:sessionStorage.getItem("type"),noteLength:0,items:[{icon:"apps",text:"任务中心",path:"/requester/index"},{icon:"delete",text:"回收站",path:"/requester/garbage"},{icon:"gesture",text:"草稿箱",path:"/requester/draft"},{divider:!0},{icon:"notifications",text:"系统邮件",path:"/requester/notice"},{icon:"face",text:"个人信息",path:"/requester/personalInfo"},{divider:!0},{icon:"help",text:"发布者指南",path:"/requester/tasks"}]}},methods:{clickItem:function(t){this.barTitle=t},readNote:function(){this.noticeNumber--},logout:function(){var t=this;this.$http.post("/logout").then(function(e){t.$router.push("/index")})}},props:{source:String},created:function(){var t=this;this.$http.get("/notice").then(function(e){for(var a=e.data,s=0;s<a.length;s++)0===a[s].state&&t.noticeNumber++})}},Ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-toolbar",{attrs:{color:"purple darken-2",dark:"",fixed:"",app:"","clipped-right":"",id:"toolbar"}},[a("v-toolbar-title",[t._v(t._s(t.barTitle))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",icon:"",large:"",target:"_blank"},on:{click:t.logout},slot:"activator"},[a("v-icon",{attrs:{large:""}},[t._v("exit_to_app")])],1),t._v(" "),a("span",[t._v("退出")])],1)],1),t._v(" "),a("v-navigation-drawer",{staticClass:"grey lighten-4",attrs:{"mini-variant":t.mini,stateless:"","hide-overlay":"","mini-variant-width":"85",app:""},on:{"update:miniVariant":function(e){t.mini=e}},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-list",{staticClass:"pa-0"},[a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-avatar",{attrs:{size:"52px"}},[a("img",{attrs:{src:"https://randomuser.me/api/portraits/men/85.jpg"}})]),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(t.requesterName))]),t._v(" "),a("v-list-tile-sub-title",[t._v("会员等级："+t._s(t.requesterRank))])],1),t._v(" "),a("v-list-tile-action",[a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){e.stopPropagation(),t.mini=!t.mini}}},[a("v-icon",[t._v("chevron_left")])],1)],1)],1)],1)],1),t._v(" "),a("v-divider",{staticClass:"my-0",attrs:{dark:""}}),t._v(" "),a("v-list",{attrs:{dense:""}},[t._l(t.items,function(e,s){return[e.divider?a("v-divider",{key:s,staticClass:"my-3",attrs:{dark:""}}):a("v-list-tile",{key:s,attrs:{to:e.path},on:{click:function(a){t.clickItem(e.text)}}},[a("v-list-tile-action",[a("v-icon",{staticClass:"purple--text text--darken-2"},[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-content",["系统邮件"===e.text?a("v-badge",{attrs:{right:"",color:"purple"},model:{value:t.showBadge,callback:function(e){t.showBadge=e},expression:"showBadge"}},[a("span",{attrs:{slot:"badge"},slot:"badge"},[t._v(t._s(t.noticeNumber))]),t._v(" "),a("span",{staticClass:"grey--text"},[t._v(t._s(e.text))])]):a("v-list-tile-title",{staticClass:"grey--text"},[t._v("\n              "+t._s(e.text)+"\n            ")])],1)],1)]})],2)],1),t._v(" "),a("v-content",[a("router-view",{on:{"read-note":t.readNote}})],1),t._v(" "),a("v-footer",{staticClass:"purple darken-2",attrs:{id:"footer",app:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"","text-xs-center":""}},[a("div",{staticClass:"white--text ml-3"},[t._v("\n          Made with\n          "),a("v-icon",{staticClass:"red--text"},[t._v("favorite")]),t._v("\n          by AlphaCat Team\n        ")],1)])],1)],1)],1)},staticRenderFns:[]};var Xt=a("VU/8")(Vt,Ht,!1,function(t){a("6ybD")},"data-v-64fd3c9c",null).exports;function Yt(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}var Jt={name:"TaskOverview",data:function(){return{createDialog:!1,stepOrder:1,taskOverviewTypes:[{text:"全部任务",value:"all"},{text:"已结束",value:"history"},{text:"进行中",value:"underway"},{text:"未开始",value:"notstart"}],taskOverviewType:"all",overviewTasks:[],newTask:{requesterId:"",name:"",description:"",creditPerPic:"1",creditFinished:"1",method:"1",hasWholeLabel:!0,startTime:"",endTime:"",labels:[],state:""},newTaskId:{},picUploadList:[],newLabelName:"",s_menu:!1,e_menu:!1,picIndex:1}},methods:{initCreateDialog:function(){this.stepOrder=1,this.newTask.name="",this.newTask.description="",this.newTask.creditFinished="1",this.newTask.creditPerPic="1",this.newTask.method="1",this.newTask.hasWholeLabel=!0,this.$refs.upload.clearFiles(),this.newTask.startTime="",this.newTask.endTime="",this.newTask.labels=[],this.createDialog=!0},handleRemove:function(t,e){console.log(t,e),this.picUploadList=e},handlePreview:function(t){console.log(t)},handleChange:function(t,e){console.log(e),this.picUploadList=e},remove:function(t,e){this.newTask.labels[e].choices.splice(this.newTask.labels[e].choices.indexOf(t),1),this.newTask.labels[e].choices=[].concat(Yt(this.newTask.labels[e].choices))},addNewLabel:function(){if(""!==this.$refs.newLabelField.value){var t={};t.title=this.$refs.newLabelField.value,t.choices=[],this.newTask.labels.push(t),this.newTask.labels=[].concat(Yt(this.newTask.labels)),this.$refs.newLabelField.reset(),this.newLabelName=""}},removeLabel:function(t){this.newTask.labels.splice(t,1),this.newTask.labels=[].concat(Yt(this.newTask.labels))},getTaskList:function(){var t=this;this.$http.get("/task?requesterId="+sessionStorage.getItem("id")+"&type="+this.taskOverviewType).then(function(e){t.overviewTasks=e.data;for(var a=0;a<t.overviewTasks.length;a++)0===t.overviewTasks[a].state?t.overviewTasks[a].path="/requester/idleTask/"+t.overviewTasks[a].id:t.overviewTasks[a].state>0&&t.overviewTasks[a].state<100?t.overviewTasks[a].path="/requester/underwayTask/"+t.overviewTasks[a].id:t.overviewTasks[a].path="/requester/finishedTask/"+t.overviewTasks[a].id})},submitUpload:function(t){console.log(t);var e=new FormData;e.append("file",t.file),e.append("picIndex",this.picIndex),this.picIndex++;this.$http.post("/pic/"+this.newTaskId.taskId,e,{"Content-Type":"multipart/form-data"}).then(function(t){t.data.success||l.$emit("show-info",t.data.message)}).catch(function(t){console.log(t)})},publishNewTask:function(){var t=this;""===this.newTask.name?l.$emit("show-info","无法发布！请填写任务名！"):0===this.picUploadList.length?l.$emit("show-info","无法发布！请上传图片！"):""===this.newTask.startTime||""===this.newTask.endTime?l.$emit("show-info","无法发布！请选择任务起止日期！"):(this.newTask.state="published",this.$http.post("/task",this.newTask).then(function(e){t.newTaskId=e.data,t.$refs.upload.submit(),t.createDialog=!1,l.$emit("show-info","成功发布任务！")}))},saveAsDraft:function(){var t=this;this.newTask.state="draft",this.$http.post("/task",this.newTask).then(function(e){t.newTaskId=e.data,console.log(JSON.stringify(t.newTaskId)),t.picUploadList!==[]&&t.$refs.upload.submit(),t.createDialog=!1,l.$emit("show-info","任务已存为草稿，可至草稿箱查看。")})}},created:function(){this.newTask.requesterId=sessionStorage.getItem("id"),this.getTaskList()}},Gt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",[a("v-card",{staticClass:"grey lighten-4",attrs:{flat:""}},[a("br"),t._v(" "),a("v-toolbar",{attrs:{color:"transparent",flat:""}},[a("v-spacer"),t._v(" "),a("v-toolbar-items",[a("v-select",{staticStyle:{width:"200px"},attrs:{items:t.taskOverviewTypes,label:"任务筛选",color:"purple darken-2"},model:{value:t.taskOverviewType,callback:function(e){t.taskOverviewType=e},expression:"taskOverviewType"}})],1)],1),t._v(" "),a("v-container",{attrs:{"grid-list-lg":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","mx-2":""}},t._l(t.overviewTasks,function(e){return a("v-flex",{key:e.name,attrs:{md2:""}},[a("v-card",{attrs:{hover:"",to:e.path}},[a("v-card-media",{attrs:{src:"https://unsplash.it/150/300?image="+(Math.floor(75*Math.random())+1),height:"130px"}},[a("v-container",{staticClass:"picture",attrs:{"fill-height":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-flex",[a("span",{staticClass:"headline white--text"},[t._v(t._s(e.name))])])],1)],1)],1),t._v(" "),a("v-card-text",{staticClass:"grey--text"},[a("v-layout",{attrs:{"align-center":""}},[0===e.state?a("v-icon",{attrs:{color:"grey"}},[t._v("remove")]):100===e.state?a("v-icon",{attrs:{color:"purple"}},[t._v("done_all")]):a("v-progress-circular",{attrs:{value:e.state,color:"purple",size:"24"}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-icon",{attrs:{color:"purple"}},[t._v("person")]),t._v("\n                  "+t._s(e.workerCount)+"\n                ")],1)],1)],1)],1)}))],1),t._v(" "),a("v-btn",{attrs:{fixed:"",dark:"",fab:"",large:"",bottom:"",right:"",color:"orange darken-1"},on:{click:function(e){return e.stopPropagation(),t.initCreateDialog(e)}}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-icon",{attrs:{large:""}},[t._v("add")])],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},model:{value:t.createDialog,callback:function(e){t.createDialog=e},expression:"createDialog"}},[a("v-card",{attrs:{tile:""}},[a("v-toolbar",{attrs:{card:"",dark:"",color:"purple"}},[a("v-toolbar-title",[t._v("任务创建")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){return t.publishNewTask(e)}}},[t._v("发布任务")]),t._v(" "),a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){return t.saveAsDraft(e)}}},[t._v("存为草稿")]),t._v(" "),a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.createDialog=!1}}},[t._v("放弃创建")])],1)],1),t._v(" "),a("v-card-text",[a("v-stepper",{staticClass:"elevation-0",attrs:{vertical:""},model:{value:t.stepOrder,callback:function(e){t.stepOrder=e},expression:"stepOrder"}},[a("v-stepper-step",{attrs:{complete:t.stepOrder>1,step:"1"}},[t._v("\n            选择任务类型\n          ")]),t._v(" "),a("v-stepper-content",{attrs:{step:"1"}},[a("v-card",{staticClass:"mb-4",attrs:{color:"purple lighten-5",height:"80px","pr-5":""}},[a("v-flex",{attrs:{sm6:"","pl-3":"","pt-2":""}},[a("v-radio-group",{attrs:{row:""},model:{value:t.newTask.method,callback:function(e){t.$set(t.newTask,"method",e)},expression:"newTask.method"}},[a("v-radio",{attrs:{label:"单框标注",value:"1",color:"purple"}}),t._v(" "),a("v-radio",{attrs:{label:"多框标注",value:"2",color:"purple"}}),t._v(" "),a("v-radio",{attrs:{label:"不规则标注",value:"3",color:"purple"}})],1)],1)],1),t._v(" "),a("v-btn",{attrs:{color:"purple",dark:""},nativeOn:{click:function(e){t.stepOrder=2}}},[t._v("下一步")])],1),t._v(" "),a("v-stepper-step",{attrs:{complete:t.stepOrder>2,step:"2",editable:""}},[t._v("\n            配置任务项\n          ")]),t._v(" "),a("v-stepper-content",{attrs:{step:"2"}},[a("v-card",{staticClass:"mb-4",attrs:{color:"purple lighten-5"}},[a("v-flex",{attrs:{sm6:"","pl-3":"","pt-3":"","pb-3":""}},[a("v-text-field",{ref:"taskNameField",attrs:{rules:[function(t){return t.length<=15||"Max 15 characters"},function(t){return t.length>0||"Task name is needed"}],counter:15,label:"任务名称",color:"purple"},model:{value:t.newTask.name,callback:function(e){t.$set(t.newTask,"name",e)},expression:"newTask.name"}}),t._v(" "),a("v-text-field",{ref:"taskDesField",attrs:{rules:[function(t){return t.length<=150||"Max 150 characters"}],counter:150,label:"任务描述",textarea:"",rows:"3",color:"purple"},model:{value:t.newTask.description,callback:function(e){t.$set(t.newTask,"description",e)},expression:"newTask.description"}}),t._v(" "),a("v-divider",{staticClass:"my-3"}),t._v(" "),"1"===t.newTask.method?a("v-checkbox",{attrs:{label:"是否整体描述",color:"purple"},model:{value:t.newTask.hasWholeLabel,callback:function(e){t.$set(t.newTask,"hasWholeLabel",e)},expression:"newTask.hasWholeLabel"}}):t._e(),t._v(" "),"1"===t.newTask.method?a("v-subheader",[t._v("任务标签及预设选项")]):t._e(),t._v(" "),"1"===t.newTask.method?a("v-container",{attrs:{fluid:"","grid-list-sm":""}},t._l(t.newTask.labels,function(e,s){return a("v-layout",{key:e.title,attrs:{row:"",wrap:""}},[a("v-select",{ref:"taskLabelField",refInFor:!0,staticStyle:{background:"transparent"},attrs:{label:e.title,chips:"",tags:"",solo:"","prepend-icon":"bookmark_border",clearable:"",color:"purple","pd-1":""},scopedSlots:t._u([{key:"selection",fn:function(r){return[a("v-chip",{attrs:{selected:r.selected,close:""},on:{input:function(e){t.remove(r.item,s)}}},[a("strong",[t._v(t._s(r.item))]),t._v(" \n                          "),a("span",[t._v("("+t._s(e.title)+")")])])]}}]),model:{value:e.choices,callback:function(a){t.$set(e,"choices",a)},expression:"tag.choices"}}),t._v(" "),a("v-btn",{attrs:{outline:"",small:"",fab:"",color:"purple"},on:{click:function(e){t.removeLabel(s)}}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-icon",[t._v("delete_forever")])],1)],1)],1)})):t._e(),t._v(" "),"1"===t.newTask.method?a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs10:""}},[a("v-text-field",{ref:"newLabelField",attrs:{rules:[function(t){return t.length<=10||"Max 10 characters"}],counter:10,id:"newLabelField",name:"newLabelField",label:"新标签名",color:"purple","prepend-icon":"bookmark"},model:{value:t.newLabelName,callback:function(e){t.newLabelName=e},expression:"newLabelName"}})],1),t._v(" "),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{attrs:{round:"",color:"purple",outline:""},on:{click:t.addNewLabel}},[t._v("添加标签")])],1)],1)],1):t._e(),t._v(" "),"1"===t.newTask.method?a("v-divider",{staticClass:"my-3"}):t._e(),t._v(" "),a("v-container",{staticClass:"pb-0",attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-slider",{attrs:{color:"purple",label:"每张图片奖励",hint:"Be careful",min:"1",max:"10","thumb-label":""},model:{value:t.newTask.creditPerPic,callback:function(e){t.$set(t.newTask,"creditPerPic",e)},expression:"newTask.creditPerPic"}})],1),t._v(" "),a("v-flex",{attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs2:""}},[a("v-text-field",{attrs:{type:"number",min:"1","prepend-icon":"monetization_on",color:"purple"},model:{value:t.newTask.creditPerPic,callback:function(e){t.$set(t.newTask,"creditPerPic",e)},expression:"newTask.creditPerPic"}})],1)],1)],1),t._v(" "),a("v-container",{staticClass:"pt-0",attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs9:""}},[a("v-slider",{attrs:{color:"purple",label:"完成任务奖励",hint:"Be careful",min:"1",max:"200","thumb-label":""},model:{value:t.newTask.creditFinished,callback:function(e){t.$set(t.newTask,"creditFinished",e)},expression:"newTask.creditFinished"}})],1),t._v(" "),a("v-flex",{attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs2:""}},[a("v-text-field",{attrs:{min:"1",type:"number","prepend-icon":"monetization_on",color:"purple"},model:{value:t.newTask.creditFinished,callback:function(e){t.$set(t.newTask,"creditFinished",e)},expression:"newTask.creditFinished"}})],1)],1)],1)],1)],1),t._v(" "),a("v-btn",{attrs:{color:"purple",dark:""},nativeOn:{click:function(e){t.stepOrder=3}}},[t._v("下一步")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"purple",dark:""},nativeOn:{click:function(e){t.stepOrder=1}}},[t._v("上一步")])],1),t._v(" "),a("v-stepper-step",{attrs:{complete:t.stepOrder>3,step:"3",color:"purple"}},[t._v("上传图片")]),t._v(" "),a("v-stepper-content",{attrs:{step:"3"}},[a("v-card",{staticClass:"mb-4 scroll-y",staticStyle:{"max-height":"400px"},attrs:{color:"purple lighten-5"}},[a("v-flex",{attrs:{sm4:"","pl-3":"","pt-3":"","pb-3":""}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"http://localhost:80","on-preview":t.handlePreview,"on-change":t.handleChange,"on-remove":t.handleRemove,"http-request":t.submitUpload,"file-list":t.picUploadList,"list-type":"picture",multiple:"","auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),a("div",{staticClass:"el-upload__tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1),t._v(" "),a("v-btn",{attrs:{color:"purple",dark:""},nativeOn:{click:function(e){t.stepOrder=4}}},[t._v("下一步")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"purple"},nativeOn:{click:function(e){t.stepOrder=2}}},[t._v("上一步")])],1),t._v(" "),a("v-stepper-step",{attrs:{step:"4"}},[t._v("选择任务时间")]),t._v(" "),a("v-stepper-content",{attrs:{step:"4"}},[a("v-card",{staticClass:"mb-4",attrs:{color:"purple lighten-5",height:"180px"}},[a("v-flex",{attrs:{sm6:"","pl-4":"","pt-2":""}},[a("v-menu",{ref:"s_menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.newTask.startTime,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.$set(t.newTask,"startTime",e)}},model:{value:t.s_menu,callback:function(e){t.s_menu=e},expression:"s_menu"}},[a("v-text-field",{ref:"taskSTField",attrs:{slot:"activator",label:"任务开始日期","prepend-icon":"event",readonly:"",color:"purple"},slot:"activator",model:{value:t.newTask.startTime,callback:function(e){t.$set(t.newTask,"startTime",e)},expression:"newTask.startTime"}}),t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:"",min:new Date((new Date).getTime()+864e5).toISOString().substr(0,10)},model:{value:t.newTask.startTime,callback:function(e){t.$set(t.newTask,"startTime",e)},expression:"newTask.startTime"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.s_menu=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.s_menu.save(t.newTask.startTime)}}},[t._v("OK")])],1)],1)],1),t._v(" "),a("v-flex",{attrs:{sm6:"","pl-4":"","pt-2":""}},[a("v-menu",{ref:"e_menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.newTask.endTime,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.$set(t.newTask,"endTime",e)}},model:{value:t.e_menu,callback:function(e){t.e_menu=e},expression:"e_menu"}},[a("v-text-field",{ref:"taskSTField",attrs:{slot:"activator",label:"任务结束日期","prepend-icon":"event",readonly:"",color:"purple"},slot:"activator",model:{value:t.newTask.endTime,callback:function(e){t.$set(t.newTask,"endTime",e)},expression:"newTask.endTime"}}),t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:"",min:t.newTask.startTime},model:{value:t.newTask.endTime,callback:function(e){t.$set(t.newTask,"endTime",e)},expression:"newTask.endTime"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.e_menu=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.e_menu.save(t.newTask.endTime)}}},[t._v("OK")])],1)],1)],1)],1),t._v(" "),a("v-btn",{attrs:{color:"purple",dark:""},nativeOn:{click:function(e){t.stepOrder=3}}},[t._v("上一步")])],1)],1)],1),t._v(" "),a("div",{staticStyle:{flex:"1 1 auto"}})],1)],1)],1)},staticRenderFns:[]};var Kt=a("VU/8")(Jt,Gt,!1,function(t){a("hdjH")},"data-v-3455ca8b",null).exports;function Zt(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}var Qt={name:"IdleTask",data:function(){return{barTitle:"任务详情——未开始任务",taskType:"",taskState:"idle",edit:!0,picChanged:!1,originalTaskInfo:"",taskInfo:{description:"",name:""},picList:[],newLabelName:"",s_menu:!1,e_menu:!1,fab:!1,picUploadError:!1,picIndex:1}},methods:{initiate:function(){var t=this;this.$http.get("/task/"+this.$route.params.taskId).then(function(e){t.taskInfo=e.data,t.originalTaskInfo=JSON.stringify(e.data),1==t.taskInfo.method?t.taskType="单框标注":2==t.taskInfo.method?t.taskType="多框标注":t.taskType="不规则标注"}),this.$http.get("/pic/"+this.$route.params.taskId).then(function(e){t.picList=e.data})},remove:function(t,e){this.taskInfo.labels[e].choices.splice(this.taskInfo.labels[e].choices.indexOf(t),1),this.taskInfo.labels[e].choices=[].concat(Zt(this.taskInfo.labels[e].choices))},removeLabel:function(t){this.taskInfo.labels.splice(t,1),this.taskInfo.labels=[].concat(Zt(this.taskInfo.labels))},addNewLabel:function(){if(""!==this.$refs.newLabelField.value){var t={};t.title=this.$refs.newLabelField.value,t.choices=[],this.taskInfo.labels.push(t),this.taskInfo.labels=[].concat(Zt(this.taskInfo.labels)),this.$refs.newLabelField.reset()}},handleRemove:function(t,e){console.log(t,e),this.picList=e},handlePreview:function(t){console.log(t)},handleChange:function(t,e){console.log(e),this.picList=e,this.picChanged=!0},handleError:function(t,e,a){this.picUploadError=!0,console.log(t),this.warning="图片未上传成功，请重新尝试！",this.snackbar=!0},submitUpload:function(t){console.log(t);var e=new FormData;e.append("file",t.file),e.append("picIndex",this.picIndex),this.picIndex++;this.$http.post("/pic/"+this.taskInfo.id,e,{"Content-Type":"multipart/form-data"}).then(function(t){t.data.success||l.$emit("show-info",t.data.message)}).catch(function(t){console.log(t)})},clearContent:function(){this.taskInfo={description:"",name:""}},recoverContent:function(){this.taskInfo=JSON.parse(this.originalTaskInfo)},updatePublish:function(){if(console.log(this.originalTaskInfo),console.log(JSON.stringify(this.taskInfo)),console.log(this.originalTaskInfo==JSON.stringify(this.taskInfo)),JSON.stringify(this.taskInfo)==this.originalTaskInfo&&0==this.picChanged&&"published"==this.taskInfo.state)this.edit=!0,l.$emit("show-info","任务未进行任何更改！");else if(""===this.taskInfo.name)l.$emit("show-info","无法发布！请填写任务名！");else if(0===this.picList.length)l.$emit("show-info","无法发布！请上传图片！");else if(""===this.taskInfo.startTime||""===this.taskInfo.endTime)l.$emit("show-info","无法发布！请选择任务起止日期！");else{this.taskInfo.state="published";var t=!1;this.taskInfo!=this.originalTaskInfo&&this.$http.put("/task",this.taskInfo).then(function(t){}).catch(function(e){t=!0}),1==this.picChanged&&this.$refs.upload.submit(),0==t&&0==this.picUploadError&&(this.edit=!0,l.$emit("show-info","任务已更新发布！"))}},deleteTask:function(){var t=this;this.$http.post("/task/"+this.taskInfo.id+"/garbage").then(function(e){t.edit=!0,l.$emit("show-info","任务已丢入垃圾箱！")}).catch(function(t){console.log(t),l.$emit("show-info","任务删除失败！")})},draftTask:function(){if(this.taskInfo==this.originalTaskInfo&&0==this.picChanged&&"draft"==this.taskInfo.state)this.edit=!0,l.$emit("show-info","任务未进行任何更改！");else{this.taskInfo.state="draft";var t=!1;this.taskInfo!=this.originalTaskInfo&&this.$http.put("/task",this.taskInfo).then(function(t){}).catch(function(e){t=!0}),1==this.picChanged&&this.$refs.upload.submit(),0==t&&0==this.picUploadError&&(this.edit=!0,l.$emit("show-info","任务已更新发布！"))}}},created:function(){this.initiate()}},te={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"idleTask"}},[a("v-toolbar",{attrs:{color:"purple darken-2",dark:"",fixed:"",app:"","clipped-right":"",id:"toolbar"}},[a("v-toolbar-title",[t._v(t._s(t.barTitle))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",icon:"",large:"",target:"_blank",to:"/requester/index"},slot:"activator"},[a("v-icon",{attrs:{large:""}},[t._v("home")])],1),t._v(" "),a("span",[t._v("返回主页")])],1)],1),t._v(" "),a("v-content",{attrs:{fluid:"","fill-height":""}},[a("v-card",{attrs:{width:"100%"}},[a("v-layout",{attrs:{row:"","align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs8:""}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("任务名称")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-text-field",{attrs:{rules:[function(t){return t.length<=15||"Max 15 characters"},function(t){return t.length>0||"Task name is needed"}],counter:15,name:"taskName",label:"Task Name",disabled:t.edit,color:"purple"},model:{value:t.taskInfo.name,callback:function(e){t.$set(t.taskInfo,"name",e)},expression:"taskInfo.name"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("任务类型")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-text-field",{attrs:{name:"taskType",label:"Task Type",value:t.taskType,disabled:""}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("任务描述")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-text-field",{attrs:{rules:[function(t){return t.length<=150||"Max 150 characters"}],counter:150,name:"taskDescription",label:"Task Description",disabled:t.edit,color:"purple"},model:{value:t.taskInfo.description,callback:function(e){t.$set(t.taskInfo,"description",e)},expression:"taskInfo.description"}})],1)],1),t._v(" "),1===t.taskInfo.method?a("v-divider",{staticClass:"my-3"}):t._e(),t._v(" "),1===t.taskInfo.method?a("v-layout",{attrs:{row:""}},[a("v-checkbox",{staticClass:"pt-2",attrs:{label:"是否整体描述",color:"purple",disabled:t.edit},model:{value:t.taskInfo.hasWholeLabel,callback:function(e){t.$set(t.taskInfo,"hasWholeLabel",e)},expression:"taskInfo.hasWholeLabel"}})],1):t._e(),t._v(" "),a("v-divider"),t._v(" "),1===t.taskInfo.method?a("v-subheader",{staticClass:"pl-1 pt-4"},[t._v("任务标签及预设选项")]):t._e(),t._v(" "),1===t.taskInfo.method?a("v-container",{staticClass:"pt-3",attrs:{fluid:"","grid-list-sm":""}},t._l(t.taskInfo.labels,function(e,s){return a("v-layout",{key:e.title,attrs:{row:"",wrap:""}},[a("v-select",{staticStyle:{background:"transparent"},attrs:{label:e.title,chips:"",tags:"",solo:"","prepend-icon":"bookmark_border","append-icon":" ",clearable:"",color:"purple","pd-1":"",disabled:t.edit},scopedSlots:t._u([{key:"selection",fn:function(r){return[a("v-chip",{attrs:{selected:r.selected,close:""},on:{input:function(e){t.remove(r.item,s)}}},[a("strong",[t._v(t._s(r.item))]),t._v(" \n                          "),a("span",[t._v("("+t._s(e.title)+")")])])]}}]),model:{value:e.choices,callback:function(a){t.$set(e,"choices",a)},expression:"tag.choices"}}),t._v(" "),a("v-btn",{attrs:{outline:"",small:"",fab:"",color:"purple",disabled:t.edit},on:{click:function(e){t.removeLabel(s)}}},[a("v-icon",{staticClass:"pt-2"},[t._v("delete_forever")])],1)],1)})):t._e(),t._v(" "),1===t.taskInfo.method?a("v-layout",{staticClass:"pr-5 pl-3",attrs:{row:""}},[a("v-text-field",{ref:"newLabelField",attrs:{rules:[function(t){return t.length<=10||"Max 10 characters"}],counter:10,"prepend-icon":"bookmark",id:"newLabelField",name:"newLabelField",label:"新标签名",color:"purple",disabled:t.edit},model:{value:t.newLabelName,callback:function(e){t.newLabelName=e},expression:"newLabelName"}}),t._v(" "),a("v-btn",{attrs:{round:"",color:"purple",outline:"",disabled:t.edit},on:{click:t.addNewLabel}},[t._v("添加标签")])],1):t._e(),t._v(" "),a("v-divider",{staticClass:"my-3"}),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs7:"","pt-3":"","pb-3":""}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"http://localhost:80","on-preview":t.handlePreview,"on-change":t.handleChange,"on-remove":t.handleRemove,"on-error":t.handleError,"http-request":t.submitUpload,"file-list":t.picList,"list-type":"picture",multiple:"","auto-upload":!1,disabled:t.edit}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary",disabled:t.edit},slot:"trigger"},[t._v("选取文件")]),t._v(" "),a("div",{staticClass:"el-upload__tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-slider",{attrs:{color:"purple",label:"每张图片奖励",hint:"Be careful",min:"1",max:"10","thumb-label":"",disabled:t.edit},model:{value:t.taskInfo.creditPerPic,callback:function(e){t.$set(t.taskInfo,"creditPerPic",e)},expression:"taskInfo.creditPerPic"}})],1),t._v(" "),a("v-flex",{attrs:{xs2:""}},[a("v-text-field",{attrs:{type:"number","prepend-icon":"monetization_on",color:"purple",disabled:t.edit},model:{value:t.taskInfo.creditPerPic,callback:function(e){t.$set(t.taskInfo,"creditPerPic",e)},expression:"taskInfo.creditPerPic"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-slider",{attrs:{color:"purple",label:"完成任务奖励",hint:"Be careful",min:"1",max:"200","thumb-label":"",disabled:t.edit},model:{value:t.taskInfo.creditFinished,callback:function(e){t.$set(t.taskInfo,"creditFinished",e)},expression:"taskInfo.creditFinished"}})],1),t._v(" "),a("v-flex",{attrs:{xs2:""}},[a("v-text-field",{attrs:{type:"number","prepend-icon":"monetization_on",color:"purple",disabled:t.edit},model:{value:t.taskInfo.creditFinished,callback:function(e){t.$set(t.taskInfo,"creditFinished",e)},expression:"taskInfo.creditFinished"}})],1)],1),t._v(" "),a("v-divider",{staticClass:"my-3"}),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:"","pl-4":"","pt-2":""}},[a("v-menu",{ref:"s_menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.taskInfo.startTime,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.$set(t.taskInfo,"startTime",e)}},model:{value:t.s_menu,callback:function(e){t.s_menu=e},expression:"s_menu"}},[a("v-text-field",{attrs:{slot:"activator",label:"任务开始日期","prepend-icon":"event",readonly:"",color:"purple",disabled:t.edit},slot:"activator",model:{value:t.taskInfo.startTime,callback:function(e){t.$set(t.taskInfo,"startTime",e)},expression:"taskInfo.startTime"}}),t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.taskInfo.startTime,callback:function(e){t.$set(t.taskInfo,"startTime",e)},expression:"taskInfo.startTime"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.s_menu=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.s_menu.save(t.taskInfo.startTime)}}},[t._v("OK")])],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs6:"","pl-4":"","pt-2":""}},[a("v-menu",{ref:"e_menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.taskInfo.endTime,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.$set(t.taskInfo,"endTime",e)}},model:{value:t.e_menu,callback:function(e){t.e_menu=e},expression:"e_menu"}},[a("v-text-field",{attrs:{slot:"activator",label:"任务结束日期","prepend-icon":"event",readonly:"",color:"purple",disabled:t.edit},slot:"activator",model:{value:t.taskInfo.endTime,callback:function(e){t.$set(t.taskInfo,"endTime",e)},expression:"taskInfo.endTime"}}),t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:"",min:t.taskInfo.startTime},model:{value:t.taskInfo.endTime,callback:function(e){t.$set(t.taskInfo,"endTime",e)},expression:"taskInfo.endTime"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.e_menu=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.e_menu.save(t.taskInfo.endTime)}}},[t._v("OK")])],1)],1)],1)],1)],1)],1),t._v(" "),a("v-speed-dial",{attrs:{fixed:"",bottom:"",right:"",direction:"top","open-on-hover":"",transition:"slide-y-reverse-transition"},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[a("v-btn",{attrs:{slot:"activator",color:"orange",dark:"",fab:""},slot:"activator",model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[a("v-icon",{staticClass:"pt-3"},[t._v("build")]),t._v(" "),a("v-icon",{staticClass:"pt-3"},[t._v("close")])],1),t._v(" "),a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"green"},on:{click:function(e){t.edit=!t.edit}}},[a("v-layout",{staticClass:"justify-center align-center"},[a("v-icon",[t._v("edit")])],1)],1),t._v(" "),a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"indigo"},on:{click:t.clearContent}},[a("v-layout",{staticClass:"justify-center align-center"},[a("v-icon",[t._v("clear")])],1)],1),t._v(" "),a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"red"},on:{click:t.recoverContent}},[a("v-layout",{staticClass:"justify-center align-center"},[a("v-icon",[t._v("undo")])],1)],1)],1),t._v(" "),a("v-btn",{staticClass:"mb-5",attrs:{color:"purple darken-1",dark:""},on:{click:t.updatePublish}},[t._v("更新发布"),a("v-icon",{attrs:{right:""}},[t._v("pan_tool")])],1),t._v(" "),a("v-btn",{staticClass:"mb-5",attrs:{color:"purple lighten-1",dark:""},on:{click:t.draftTask}},[t._v("存为草稿"),a("v-icon",{attrs:{right:""}},[t._v("gesture")])],1),t._v(" "),a("v-btn",{staticClass:"mb-5",attrs:{color:"grey",dark:""},on:{click:t.deleteTask}},[t._v("删除任务"),a("v-icon",{attrs:{right:""}},[t._v("delete")])],1)],1)],1)],1)],1)],1),t._v(" "),a("v-footer",{staticClass:"purple darken-2",attrs:{id:"footer",app:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"","text-xs-center":""}},[a("div",{staticClass:"white--text ml-3"},[t._v("\n          Made with\n          "),a("v-icon",{staticClass:"red--text"},[t._v("favorite")]),t._v("\n          by AlphaCat Team\n        ")],1)])],1)],1)],1)},staticRenderFns:[]};var ee=a("VU/8")(Qt,te,!1,function(t){a("Sss2")},"data-v-2af553ac",null).exports,ae={name:"UnderwayTask",data:function(){return{barTitle:"任务详情——进行中任务",taskType:"单框标注",editDescription:!0,editEndTime:!0,e_menu:!1,originalTaskInfo:"",taskInfo:{},picList:[{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg"},{name:"food2.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg"}]}},methods:{initiate:function(){var t=this;this.$http.get("/task/"+this.$route.params.taskId+"/requester").then(function(e){t.originalTaskInfo=JSON.stringify(e.data),t.taskInfo=e.data,1==t.taskInfo.method?t.taskType="单框标注":2==t.taskInfo.method?t.taskType="多框标注":t.taskType="不规则标注",console.log(JSON.stringify(t.originalTaskInfo))})},resetChange:function(){this.editDescription=!0,this.editEndTime=!0,this.taskInfo=JSON.parse(this.originalTaskInfo)},submitChange:function(){var t=this;JSON.stringify(this.taskInfo)==this.originalTaskInfo?(this.editDescription=!0,this.editEndTime=!0,l.$emit("show-info","任务未进行任何更改！")):(this.taskInfo.state="published",this.$http.put("/task/content",this.taskInfo).then(function(e){t.editDescription=!0,t.editEndTime=!0,l.$emit("show-info","更新发布成功！")}).catch(function(e){t.editDescription=!0,t.editEndTime=!0,l.$emit("show-info","更新发布失败！")}))}},created:function(){this.initiate()}},se={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-toolbar",{attrs:{color:"purple darken-2",dark:"",fixed:"",app:"","clipped-right":"",id:"toolbar"}},[a("v-toolbar-title",[t._v(t._s(t.barTitle))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",icon:"",large:"",target:"_blank",to:"/requester/index"},slot:"activator"},[a("v-icon",{attrs:{large:""}},[t._v("home")])],1),t._v(" "),a("span",[t._v("返回主页")])],1)],1),t._v(" "),a("v-content",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"","align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs10:""}},[a("div",{staticClass:"title purple--text pt-3 pb-1",attrs:{slot:"header"},slot:"header"},[t._v("任务信息")]),t._v(" "),a("v-divider"),t._v(" "),a("v-layout",{staticClass:"pl-5 pt-3",attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("div",{staticClass:"body-2"},[t._v("任务名称：  "+t._s(t.taskInfo.name))])]),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("div",{staticClass:"body-2"},[t._v("任务类型：  "+t._s(t.taskType))])]),t._v(" "),a("v-flex",{attrs:{xs1:""}},[a("div",{staticClass:"body-2"},[t._v("任务进度:")])]),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("v-progress-circular",{attrs:{value:t.taskInfo.taskProgressRate,color:"purple",size:"24"}})],1)],1),t._v(" "),a("v-layout",{staticClass:"pl-5",attrs:{row:""}},[a("v-flex",{attrs:{xs8:""}},[a("v-text-field",{attrs:{name:"taskDescription",label:"任务描述",textarea:"",disabled:t.editDescription,color:"purple",rows:"3"},model:{value:t.taskInfo.description,callback:function(e){t.$set(t.taskInfo,"description",e)},expression:"taskInfo.description"}})],1),t._v(" "),a("v-flex",{staticClass:"pt-3 pl-2",attrs:{xs4:""}},[a("v-btn",{staticClass:"text-xs-center",attrs:{fab:"",dark:"",small:"",color:"purple"},on:{click:function(e){t.editDescription=!t.editDescription}}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-icon",{attrs:{dark:""}},[t._v("edit")])],1)],1)],1)],1),t._v(" "),1===t.taskInfo.method?a("v-layout",{staticClass:"pl-5",attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"body-2"},[t._v("任务需求:   "+t._s(t.taskInfo.hasWholeLabel?"需要整体描述":"无需整体描述"))])])],1):t._e(),t._v(" "),1===t.taskInfo.method?a("v-layout",{staticClass:"pl-5 pt-4",attrs:{row:""}},[a("v-flex",{attrs:{xs2:""}},[a("div",{staticClass:"body-2"},[t._v("任务标签及预设选项:")])])],1):t._e(),t._v(" "),1===t.taskInfo.method?a("v-layout",{staticClass:"pl-5 pt-2",attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-list",{staticClass:"elevation-0",staticStyle:{background:"transparent"}},t._l(t.taskInfo.labels,function(e){return a("v-list-group",{key:e.title,attrs:{"no-action":""}},[a("v-list-tile",{attrs:{slot:"activator",color:"purple"},slot:"activator"},[a("v-list-tile-action",[a("v-icon",{attrs:{color:"purple"}},[t._v("label")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))])],1)],1),t._v(" "),t._l(e.choices,function(e){return a("v-list-tile",{key:e},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e))])],1)],1)})],2)}))],1)],1):t._e(),t._v(" "),a("v-layout",{staticClass:"pl-5 pt-4",attrs:{row:""}},[a("v-flex",{attrs:{xs2:""}},[a("div",{staticClass:"body-2"},[t._v("任务图片:")])])],1),t._v(" "),a("v-layout",{staticClass:"pl-5 pt-2",attrs:{row:""}},[a("v-flex",{attrs:{xs8:""}},[a("v-card",{staticClass:"scroll-y",staticStyle:{"max-height":"200px"}},[a("v-container",{attrs:{"grid-list-sm":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.picList,function(t){return a("v-flex",{key:t.name,attrs:{xs2:""}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-media",{attrs:{src:"https://unsplash.it/150/300?image="+(Math.floor(100*Math.random())+1),height:"100px"}})],1)],1)}))],1)],1)],1)],1),t._v(" "),a("v-layout",{staticClass:"pl-5 pt-5",attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{attrs:{label:"任务开始日期","prepend-icon":"event",readonly:"",color:"purple",disabled:""},model:{value:t.taskInfo.startTime,callback:function(e){t.$set(t.taskInfo,"startTime",e)},expression:"taskInfo.startTime"}})],1),t._v(" "),a("v-flex",{staticClass:"pl-5",attrs:{xs4:""}},[a("v-menu",{ref:"e_menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.taskInfo.endTime,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.$set(t.taskInfo,"endTime",e)}},model:{value:t.e_menu,callback:function(e){t.e_menu=e},expression:"e_menu"}},[a("v-text-field",{attrs:{slot:"activator",label:"任务结束日期","prepend-icon":"event",readonly:"",color:"purple",disabled:t.editEndTime},slot:"activator",model:{value:t.taskInfo.endTime,callback:function(e){t.$set(t.taskInfo,"endTime",e)},expression:"taskInfo.endTime"}}),t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:"",min:new Date((new Date).getTime()).toISOString().substr(0,10)},model:{value:t.taskInfo.endTime,callback:function(e){t.$set(t.taskInfo,"endTime",e)},expression:"taskInfo.endTime"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.e_menu=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.e_menu.save(t.taskInfo.endTime)}}},[t._v("OK")])],1)],1)],1),t._v(" "),a("v-flex",{staticClass:"pl-2",attrs:{xs4:""}},[a("v-btn",{staticClass:"text-xs-center",attrs:{fab:"",dark:"",small:"",color:"purple"},on:{click:function(e){t.editEndTime=!t.editEndTime}}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-icon",{attrs:{dark:""}},[t._v("edit")])],1)],1)],1)],1),t._v(" "),a("v-layout",{staticClass:"pl-5 pt-1",attrs:{row:""}},[a("v-btn",{attrs:{color:"purple",dark:""},on:{click:t.submitChange}},[a("v-icon",{attrs:{left:""}},[t._v("pan_tool")]),t._v("发布更改")],1),t._v(" "),a("v-btn",{attrs:{color:"purple",dark:""},on:{click:t.resetChange}},[a("v-icon",{attrs:{left:""}},[t._v("reply")]),t._v("取消更改")],1)],1),t._v(" "),a("div",{staticClass:"title purple--text pt-3 pb-1 ",attrs:{slot:"header"},slot:"header"},[t._v("任务标注情况")]),t._v(" "),a("v-divider"),t._v(" "),a("v-layout",{staticClass:"pl-5 pt-3",attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("div",{staticClass:"body-2"},[t._v("参与任务人数：  "+t._s(t.taskInfo.workerCount))])]),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("div",{staticClass:"body-2"},[t._v("图片标注率：  "+t._s(t.taskInfo.tagRate))])])],1),t._v(" "),a("v-layout",{staticClass:"pl-5 pt-3 pb-5",attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("div",{staticClass:"body-2"},[t._v("未标注图片数：  "+t._s(t.taskInfo.picUndone))])]),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("div",{staticClass:"body-2"},[t._v("已消耗积分：  "+t._s(t.taskInfo.costCredit))])])],1)],1)],1)],1)],1),t._v(" "),a("v-footer",{staticClass:"purple darken-2",attrs:{id:"footer",app:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"","text-xs-center":""}},[a("div",{staticClass:"white--text ml-3"},[t._v("\n          Made with\n          "),a("v-icon",{staticClass:"red--text"},[t._v("favorite")]),t._v("\n          by AlphaCat Team\n        ")],1)])],1)],1)],1)},staticRenderFns:[]};var re=a("VU/8")(ae,se,!1,function(t){a("q9o7")},"data-v-25d016f4",null).exports,ie={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-toolbar",{attrs:{color:"purple darken-2",dark:"",fixed:"",app:"","clipped-right":"",id:"toolbar"}},[a("v-toolbar-title",[t._v(t._s(t.barTitle))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",icon:"",large:"",target:"_blank",to:"/requester/index"},slot:"activator"},[a("v-icon",{attrs:{large:""}},[t._v("home")])],1),t._v(" "),a("span",[t._v("返回主页")])],1)],1),t._v(" "),a("v-content",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs10:""}},[a("v-expansion-panel",{attrs:{expand:""}},[a("v-expansion-panel-content",[a("div",{staticClass:"title purple--text",attrs:{slot:"header"},slot:"header"},[t._v("任务信息")]),t._v(" "),a("v-card",[a("v-layout",{staticClass:"pl-5 pt-3",attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("div",{staticClass:"body-2"},[t._v("任务名称：  "+t._s(t.taskInfo.name))])]),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("div",{staticClass:"body-2"},[t._v("任务类型：  "+t._s(t.taskType))])])],1),t._v(" "),a("v-layout",{staticClass:"pl-5 pt-3",attrs:{row:""}},[1===t.taskInfo.method?a("v-flex",{attrs:{xs4:""}},[a("div",{staticClass:"body-2"},[t._v("任务需求：  "+t._s(t.taskInfo.hasWholeLabel?"需要整体描述":"无需整体描述"))])]):t._e(),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("div",{staticClass:"body-2"},[t._v("任务时间：  "+t._s(t.taskInfo.startTime)+"--"+t._s(t.taskInfo.endTime))])])],1),t._v(" "),a("v-layout",{staticClass:"pl-5",attrs:{row:""}},[a("v-flex",{attrs:{xs8:""}},[a("v-text-field",{attrs:{name:"taskDescription",label:"任务描述",textarea:"",disabled:"",color:"purple",rows:"3"},model:{value:t.taskInfo.description,callback:function(e){t.$set(t.taskInfo,"description",e)},expression:"taskInfo.description"}})],1)],1),t._v(" "),1===t.taskInfo.method?a("v-layout",{staticClass:"pl-5",attrs:{row:""}},[a("v-flex",{attrs:{xs2:""}},[a("div",{staticClass:"body-2"},[t._v("任务标签及预设选项:")])])],1):t._e(),t._v(" "),1===t.taskInfo.method?a("v-layout",{staticClass:"pl-5 pt-2",attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-list",{staticClass:"elevation-0",staticStyle:{background:"transparent"}},t._l(t.taskInfo.labels,function(e){return a("v-list-group",{key:e.title,attrs:{"no-action":""}},[a("v-list-tile",{attrs:{slot:"activator",color:"purple"},slot:"activator"},[a("v-list-tile-action",[a("v-icon",{attrs:{color:"purple"}},[t._v("label")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))])],1)],1),t._v(" "),t._l(e.choices,function(e){return a("v-list-tile",{key:e},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e))])],1)],1)})],2)}))],1)],1):t._e(),t._v(" "),a("v-layout",{staticClass:"pl-5 pt-2",attrs:{row:""}},[a("v-flex",{attrs:{xs2:""}},[a("div",{staticClass:"body-2"},[t._v("任务图片:")])])],1),t._v(" "),a("v-layout",{staticClass:"pl-5 pt-2 pb-5",attrs:{row:""}},[a("v-flex",{attrs:{xs8:""}},[a("v-card",{staticClass:"scroll-y",staticStyle:{"max-height":"200px"}},[a("v-container",{attrs:{"grid-list-sm":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.picList,function(t){return a("v-flex",{key:t.name,attrs:{xs2:""}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-media",{attrs:{src:"https://unsplash.it/150/300?image="+(Math.floor(100*Math.random())+1),height:"100px"}})],1)],1)}))],1)],1)],1)],1)],1)],1),t._v(" "),a("v-expansion-panel-content",[a("div",{staticClass:"title purple--text",attrs:{slot:"header"},slot:"header"},[t._v("标注情况")]),t._v(" "),a("v-card",[a("v-layout",{staticClass:"pl-5 pt-3",attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("div",{staticClass:"body-2"},[t._v("参与任务人数：  "+t._s(t.taskInfo.workerCount))])]),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("div",{staticClass:"body-2"},[t._v("图片标注率：  "+t._s(t.taskInfo.tagRate))])])],1),t._v(" "),a("v-layout",{staticClass:"pl-5 pt-3 pb-5",attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("div",{staticClass:"body-2"},[t._v("消耗总积分：  "+t._s(t.taskInfo.costCredit))])])],1)],1)],1),t._v(" "),a("v-expansion-panel-content",{attrs:{value:"3"}},[a("div",{staticClass:"title purple--text",attrs:{slot:"header"},slot:"header"},[t._v("任务结果")]),t._v(" "),a("v-card",{attrs:{height:"200px"}})],1)],1)],1)],1)],1)],1),t._v(" "),a("v-footer",{staticClass:"purple darken-2",attrs:{id:"footer",app:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"","text-xs-center":""}},[a("div",{staticClass:"white--text ml-3"},[t._v("\n          Made with\n          "),a("v-icon",{staticClass:"red--text"},[t._v("favorite")]),t._v("\n          by AlphaCat Team\n        ")],1)])],1)],1)],1)},staticRenderFns:[]};var ne=a("VU/8")({name:"FinishedTask",data:function(){return{barTitle:"任务详情——进行中任务",taskType:"单框标注",taskInfo:{},picList:[{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg"},{name:"food2.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg"}]}},methods:{initiate:function(){var t=this;this.$http.get("/task/"+this.$route.params.taskId+"/requester").then(function(e){t.taskInfo=e.data,1==t.taskInfo.method?t.taskType="单框标注":2==t.taskInfo.method?t.taskType="多框标注":t.taskType="不规则标注"})}},created:function(){this.initiate()}},ie,!1,function(t){a("+zco")},"data-v-5c198a1e",null).exports,oe={name:"PersonalInfo",data:function(){return{editInfo:!0,changePwd:!1,dateMenu:!1,fab:!1,alert:!1,alertInfo:"",croppa:{},oldPwd:"",newPwd:"",newPwdCheck:"",originalInfo:"",requester:{name:""},hasSameName:{},checkData:{name:"",key:"",type:"requester"},snackbar:!1,warning:"",submitSucceed:!0}},methods:{initiate:function(){var t=this;this.$http.get("/requester/"+sessionStorage.getItem("id")).then(function(e){t.requester=e.data,t.originalInfo=JSON.stringify(e.data),t.checkData.name=t.requester.name})},save:function(t){this.$refs.menu.save(t)},checkPwd:function(){var t=this;this.checkData.key=this.oldPwd,this.$http.post("/login",this.checkData).then(function(e){var a=e.data.result;"success"===a?t.newPwd!=t.newPwdCheck?(t.alertInfo="两次输入的新密码不相同！",t.alert=!0):(t.alert=!1,t.requester.key=t.newPwd,t.changePwd=!1):"failed"===a&&(t.alertInfo="原密码不正确！",t.alert=!0,t.$message.warning(e.data.info))}).catch(function(t){console.log(t)})},upload:function(t,e){var a=this;this.croppa.generateBlob(function(s){var r=new FormData;r.append("file",s),r.append("name",t),r.append("type",e),a.$http.post("/avatar",r).then(function(t){})})},clear:function(){this.requester={name:""}},revert:function(){this.requester=JSON.parse(this.originalInfo)},submitChange:function(){var t=this;JSON.stringify(this.requester)==this.originalInfo&&0==this.croppa.hasImage()?(this.editInfo=!0,this.warning="未进行任何修改！",this.snackbar=!0,this.submitSucceed=!1):(JSON.stringify(this.requester)!=this.originalInfo&&this.$http.put("/requester/"+sessionStorage.getItem("id"),this.requester).then(function(t){}).catch(function(e){t.submitSucceed=!1,console.log(e)}),1==this.croppa.hasImage()&&this.croppa.generateBlob(function(e){var a=new FormData;a.append("file",e),a.append("name",t.requester.name),a.append("type","requester"),t.$http.post("/avatar",a).then(function(t){}).catch(function(e){t.submitSucceed=!1,console.log(e)})})),1==this.submitSucceed&&(this.editInfo=!0,this.warning="已更新您的个人信息！",this.snackbar=!0)}},created:function(){this.initiate()}},le={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{staticClass:"pl-3 pt-2",attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("croppa",{attrs:{placeholder:"点击此处上传头像",quality:1,"zoom-speed":10,"prevent-white-space":"","initial-image":"/api/avatar"},model:{value:t.croppa,callback:function(e){t.croppa=e},expression:"croppa"}})],1)],1),t._v(" "),a("v-layout",{staticClass:"pl-3 pt-4",attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{rules:[function(t){return t.length<=15||"Max 15 characters"},function(t){return t.length>0||"User name is needed"}],counter:15,color:"purple",label:"用户名","prepend-icon":"account_box",required:"",disabled:t.editInfo},model:{value:t.requester.name,callback:function(e){t.$set(t.requester,"name",e)},expression:"requester.name"}})],1),t._v(" "),a("v-flex",{attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs5:""}},[a("v-btn",{attrs:{outline:"",color:"purple",disabled:t.editInfo},on:{click:function(e){t.changePwd=!0}}},[a("v-icon",{attrs:{left:""}},[t._v("lock")]),t._v("修改密码")],1)],1)],1),t._v(" "),a("v-layout",{staticClass:"pl-3 pt-3",attrs:{row:"","justify-space-between":""}},[a("v-flex",{attrs:{xs5:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290",disabled:t.editInfo},model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"生日","prepend-icon":"event",readonly:"",required:"",color:"purple",disabled:t.editInfo},slot:"activator",model:{value:t.requester.birth,callback:function(e){t.$set(t.requester,"birth",e)},expression:"requester.birth"}}),t._v(" "),a("v-date-picker",{ref:"picker",attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01",color:"purple"},on:{change:function(e){t.save(t.requester.birth)}},model:{value:t.requester.birth,callback:function(e){t.$set(t.requester,"birth",e)},expression:"requester.birth"}})],1)],1)],1),t._v(" "),a("v-layout",{staticClass:"pl-3",attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-radio-group",{attrs:{row:"",label:"性别",disabled:t.editInfo},model:{value:t.requester.sex,callback:function(e){t.$set(t.requester,"sex",e)},expression:"requester.sex"}},[a("v-radio",{attrs:{color:"purple",label:"男性",value:0,disabled:t.editInfo}}),t._v(" "),a("v-radio",{attrs:{color:"purple",label:"女性",value:1,disabled:t.editInfo}})],1)],1)],1),t._v(" "),a("v-layout",{staticClass:"pl-3",attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{color:"purple",label:"邮箱","prepend-icon":"email",type:"email",required:"",disabled:t.editInfo},model:{value:t.requester.email,callback:function(e){t.$set(t.requester,"email",e)},expression:"requester.email"}})],1)],1),t._v(" "),a("v-layout",{staticClass:"pl-3",attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{color:"purple","prepend-icon":"card_travel",label:"公司",disabled:t.editInfo},model:{value:t.requester.company,callback:function(e){t.$set(t.requester,"company",e)},expression:"requester.company"}})],1)],1),t._v(" "),a("v-layout",{staticClass:"pl-3",attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-text-field",{attrs:{color:"purple","prepend-icon":"turned_in",label:"职务",disabled:t.editInfo},model:{value:t.requester.occupation,callback:function(e){t.$set(t.requester,"occupation",e)},expression:"requester.occupation"}})],1)],1),t._v(" "),a("v-speed-dial",{attrs:{fixed:"",bottom:"",right:"",direction:"top","open-on-hover":"",transition:"slide-y-reverse-transition"},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[a("v-btn",{attrs:{slot:"activator",color:"orange",dark:"",fab:""},slot:"activator",model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[a("v-icon",{staticClass:"pt-3"},[t._v("build")]),t._v(" "),a("v-icon",{staticClass:"pt-3"},[t._v("close")])],1),t._v(" "),a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"green"},on:{click:function(e){t.editInfo=!t.editInfo}}},[a("v-layout",{staticClass:"align-center justify-center"},[a("v-icon",[t._v("edit")])],1)],1),t._v(" "),a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"indigo"},on:{click:t.clear}},[a("v-layout",{staticClass:"align-center justify-center"},[a("v-icon",[t._v("clear")])],1)],1),t._v(" "),a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"red"},on:{click:t.revert}},[a("v-layout",{staticClass:"align-center justify-center"},[a("v-icon",[t._v("undo")])],1)],1)],1),t._v(" "),a("v-btn",{staticClass:"mb-5 ml-3",attrs:{color:"purple darken-1",dark:"",disabled:t.editInfo},on:{click:t.submitChange}},[t._v("提交修改")]),t._v(" "),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.changePwd,callback:function(e){t.changePwd=e},expression:"changePwd"}},[a("v-card",[a("v-card-title",{staticClass:"title"},[t._v("\n        密码重设\n      ")]),t._v(" "),a("v-alert",{attrs:{value:t.alert,type:"error",transition:"scale-transition"}},[t._v("\n        "+t._s(t.alertInfo)+"\n      ")]),t._v(" "),a("v-card-text",{staticClass:"pt-0"},[a("v-text-field",{attrs:{color:"purple",label:"旧密码",required:""},model:{value:t.oldPwd,callback:function(e){t.oldPwd=e},expression:"oldPwd"}}),t._v(" "),a("v-text-field",{attrs:{color:"purple",label:"新密码",required:""},model:{value:t.newPwd,callback:function(e){t.newPwd=e},expression:"newPwd"}}),t._v(" "),a("v-text-field",{attrs:{color:"purple",label:"新密码确认",required:""},model:{value:t.newPwdCheck,callback:function(e){t.newPwdCheck=e},expression:"newPwdCheck"}})],1),t._v(" "),a("v-card-actions",{staticClass:"pt-0"},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"purple",flat:""},on:{click:function(e){return e.stopPropagation(),t.checkPwd(e)}}},[t._v("确认")]),t._v(" "),a("v-btn",{attrs:{color:"purple",flat:""},on:{click:function(e){e.stopPropagation(),t.changePwd=!1}}},[t._v("放弃")])],1)],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.warning)+"\n    "),a("v-btn",{attrs:{flat:"",color:"pink"},nativeOn:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)},staticRenderFns:[]};var ce=a("VU/8")(oe,le,!1,function(t){a("Y09W")},"data-v-eda7532c",null).exports,ve=a("5SB6"),de=a("VDWi"),ue=a("1Wvq"),pe=a.n(ue),he=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},fe={components:{FileUpload:pe.a},data:function(){return{files:[],accept:"image/png,image/gif,image/jpeg,image/webp",extensions:"gif,jpg,jpeg,png,webp",minSize:1024,size:10485760,multiple:!0,directory:!1,drop:!0,dropDirectory:!0,addIndex:!1,thread:3,name:"file",postAction:"/upload/post",putAction:"/upload/put",headers:{"X-Csrf-Token":"xxxx"},data:{_csrf_token:"xxxxxx"},autoCompress:1048576,uploadAuto:!1,isOption:!1,editFile:{show:!1,name:""}}},watch:{"editFile.show":function(t,e){!t&&e&&this.$refs.upload.update(this.editFile.id,{error:this.editFile.error||""}),t&&this.$nextTick(function(){if(this.$refs.editImage){var t=new ve.a(this.$refs.editImage,{autoCrop:!1});this.editFile=he({},this.editFile,{cropper:t})}})}},methods:{inputFilter:function(t,e,a){var s=this;if(t&&!e){if(/(\/|^)(Thumbs\.db|desktop\.ini|\..+)$/.test(t.name))return a();if(/\.(php5?|html?|jsx?)$/i.test(t.name))return a();if(t.file&&"image/"===t.type.substr(0,6)&&this.autoCompress>0&&this.autoCompress<t.size)t.error="compressing",new de.a(null,{convertSize:1/0,maxWidth:512,maxHeight:512}).compress(t.file).then(function(e){s.$refs.upload.update(t,{error:"",file:e,size:e.size,type:e.type})}).catch(function(e){s.$refs.upload.update(t,{error:e.message||"compress"})})}if(t&&(!e||t.file!==e.file)){t.blob="";var r=window.URL||window.webkitURL;r&&r.createObjectURL&&(t.blob=r.createObjectURL(t.file)),t.thumb="",t.blob&&"image/"===t.type.substr(0,6)&&(t.thumb=t.blob)}},inputFile:function(t,e){t&&e&&(t.active&&!e.active&&t.size>=0&&this.minSize>0&&t.size<this.minSize&&this.$refs.upload.update(t,{error:"size"}),t.progress,e.progress,t.error&&e.error,t.success&&e.success),!t&&e&&e.success&&e.response.id,Boolean(t)===Boolean(e)&&e.error===t.error||this.uploadAuto&&!this.$refs.upload.active&&(this.$refs.upload.active=!0)},alert:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){alert(t)}),onEditFileShow:function(t){this.editFile=he({},t,{show:!0}),this.$refs.upload.update(t,{error:"edit"})},onEditorFile:function(){if(!this.$refs.upload.features.html5)return this.alert("Your browser does not support"),void(this.editFile.show=!1);var t={name:this.editFile.name};if(this.editFile.cropper){for(var e=atob(this.editFile.cropper.getCroppedCanvas().toDataURL(this.editFile.type).split(",")[1]),a=new Uint8Array(e.length),s=0;s<e.length;s++)a[s]=e.charCodeAt(s);t.file=new File([a],t.name,{type:this.editFile.type}),t.size=t.file.size}this.$refs.upload.update(this.editFile.id,t),this.editFile.error="",this.editFile.show=!1},onAddFolader:function(){var t=this;if(this.$refs.upload.features.directory){var e=this.$refs.upload.$el.querySelector("input");e.directory=!0,e.webkitdirectory=!0,this.directory=!0,e.onclick=null,e.click(),e.onclick=function(a){t.directory=!1,e.directory=!1,e.webkitdirectory=!1}}else this.alert("Your browser does not support")}}},me={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"example-full"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.$refs.upload&&t.$refs.upload.dropActive,expression:"$refs.upload && $refs.upload.dropActive"}],staticClass:"drop-active"},[a("h3",[t._v("Drop files to upload")])]),t._v(" "),a("div",{staticClass:"upload"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),a("tbody",[t.files.length?t._e():a("tr",[a("td",{attrs:{colspan:"7"}},[a("div",{staticClass:"text-center p-5"},[t._m(1),t._v(" "),a("label",{staticClass:"btn btn-lg btn-primary",attrs:{for:t.name}},[t._v("选择文件")])])])]),t._v(" "),t._l(t.files,function(e,s){return a("tr",{key:e.id},[a("td",[t._v(t._s(s))]),t._v(" "),a("td",[e.thumb?a("img",{attrs:{src:e.thumb,width:"40",height:"auto"}}):a("span",[t._v("No Image")])]),t._v(" "),a("td",[a("div",{staticClass:"filename"},[t._v("\n              "+t._s(e.name)+"\n            ")]),t._v(" "),e.active||"0.00"!==e.progress?a("div",{staticClass:"progress"},[a("div",{class:{"progress-bar":!0,"progress-bar-striped":!0,"bg-danger":e.error,"progress-bar-animated":e.active},style:{width:e.progress+"%"},attrs:{role:"progressbar"}},[t._v(t._s(e.progress)+"%")])]):t._e()]),t._v(" "),a("td",[t._v(t._s(t._f("formatSize")(e.size)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatSize")(e.speed)))]),t._v(" "),e.error?a("td",[t._v(t._s(e.error))]):e.success?a("td",[t._v("success")]):e.active?a("td",[t._v("active")]):a("td"),t._v(" "),a("td",[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button"}},[t._v("\n                Action\n              ")]),t._v(" "),a("div",{staticClass:"dropdown-menu"},[a("a",{class:{"dropdown-item":!0,disabled:e.active||e.success||"compressing"===e.error},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),!e.active&&!e.success&&"compressing"!==e.error&&t.onEditFileShow(e)}}},[t._v("Edit")]),t._v(" "),a("a",{class:{"dropdown-item":!0,disabled:!e.active},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),e.active&&t.$refs.upload.update(e,{error:"cancel"})}}},[t._v("Cancel")]),t._v(" "),e.active?a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.$refs.upload.update(e,{active:!1})}}},[t._v("Abort")]):e.error&&"compressing"!==e.error&&t.$refs.upload.features.html5?a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.$refs.upload.update(e,{active:!0,error:"",progress:"0.00"})}}},[t._v("Retry upload")]):a("a",{class:{"dropdown-item":!0,disabled:e.success||"compressing"===e.error},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),!e.success&&"compressing"!==e.error&&t.$refs.upload.update(e,{active:!0})}}},[t._v("Upload")]),t._v(" "),a("div",{staticClass:"dropdown-divider"}),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.$refs.upload.remove(e)}}},[t._v("Remove")])])])])])})],2)])]),t._v(" "),a("div",{staticClass:"example-foorer"},[a("div",{staticClass:"btn-group"},[a("file-upload",{ref:"upload",staticClass:"btn btn-primary dropdown-toggle",attrs:{"post-action":t.postAction,"put-action":t.putAction,extensions:t.extensions,accept:t.accept,multiple:t.multiple,directory:t.directory,size:t.size||0,thread:t.thread<1?1:t.thread>5?5:t.thread,headers:t.headers,data:t.data,drop:t.drop,"drop-directory":t.dropDirectory,"add-index":t.addIndex},on:{"input-filter":t.inputFilter,"input-file":t.inputFile},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}},[a("i",{staticClass:"fa fa-plus"}),t._v("\n          Select\n        ")]),t._v(" "),a("div",{staticClass:"dropdown-menu"},[a("label",{staticClass:"dropdown-item",attrs:{for:t.name}},[t._v("Add files")]),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.onAddFolader}},[t._v("Add folder")])])],1),t._v(" "),t.$refs.upload&&t.$refs.upload.active?a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.$refs.upload.active=!1}}},[a("i",{staticClass:"fa fa-stop",attrs:{"aria-hidden":"true"}}),t._v("\n        Stop Upload\n      ")]):a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.$refs.upload.active=!0}}},[a("i",{staticClass:"fa fa-arrow-up",attrs:{"aria-hidden":"true"}}),t._v("\n        Start Upload\n      ")])])]),t._v(" "),a("div",{class:{"modal-backdrop":!0,fade:!0,show:t.editFile.show}}),t._v(" "),a("div",{class:{modal:!0,fade:!0,show:t.editFile.show},attrs:{id:"modal-edit-file",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("Edit file")]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.editFile.show=!1}}},[a("span",[t._v("×")])])]),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.onEditorFile(e)}}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Name:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editFile.name,expression:"editFile.name"}],staticClass:"form-control",attrs:{type:"text",required:"",id:"name",placeholder:"Please enter a file name"},domProps:{value:t.editFile.name},on:{input:function(e){e.target.composing||t.$set(t.editFile,"name",e.target.value)}}})]),t._v(" "),t.editFile.show&&t.editFile.blob&&t.editFile.type&&"image/"===t.editFile.type.substr(0,6)?a("div",{staticClass:"form-group"},[a("label",[t._v("Image: ")]),t._v(" "),a("div",{staticClass:"edit-image"},[a("img",{ref:"editImage",attrs:{src:t.editFile.blob}})]),t._v(" "),a("div",{staticClass:"edit-image-tool"},[a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"cropper.rotate(-90)"},on:{click:function(e){t.editFile.cropper.rotate(-90)}}},[a("i",{staticClass:"fa fa-undo",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"cropper.rotate(90)"},on:{click:function(e){t.editFile.cropper.rotate(90)}}},[a("i",{staticClass:"fa fa-repeat",attrs:{"aria-hidden":"true"}})])]),t._v(" "),a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"cropper.crop()"},on:{click:function(e){t.editFile.cropper.crop()}}},[a("i",{staticClass:"fa fa-check",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:"cropper.clear()"},on:{click:function(e){t.editFile.cropper.clear()}}},[a("i",{staticClass:"fa fa-remove",attrs:{"aria-hidden":"true"}})])])])]):t._e()]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.editFile.show=!1}}},[t._v("Close")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Save")])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("Thumb")]),t._v(" "),a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Size")]),t._v(" "),a("th",[t._v("Speed")]),t._v(" "),a("th",[t._v("Status")]),t._v(" "),a("th",[t._v("Action")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[this._v("Drop files anywhere to upload"),e("br"),this._v("or")])}]};var _e=a("VU/8")(fe,me,!1,function(t){a("gkGJ")},null,null).exports;var ke={name:"SysNotice",data:function(){return{unReadNotices:[],readNotices:[]}},methods:{remove:function(t){this.unReadNotices.splice(this.unReadNotices.indexOf(t),1),this.unReadNotices=[].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(this.unReadNotices))},add:function(t){this.readNotices.push(t)},readNotice:function(t){var e=this;this.remove(t),this.add(t),this.$http.post("/notice/"+t.id+"/read").then(function(t){e.$emit("read-note")})}},created:function(){var t=this;this.$http.get("/notice").then(function(e){for(var a=e.data,s=0;s<a.length;s++)0===a[s].state?t.unReadNotices.push(a[s]):t.readNotices.push(a[s])})}},be={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs10:""}},[a("v-expansion-panel",{attrs:{expand:""}},[a("v-expansion-panel-content",{attrs:{value:"1"}},[a("div",{staticClass:"title purple--text",attrs:{slot:"header"},slot:"header"},[t._v("未读通知")]),t._v(" "),a("v-card",[a("v-container",{staticStyle:{"min-height":"0"},attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.unReadNotices,function(e,s){return a("v-flex",{key:s,attrs:{xs12:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"purple darken-2"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"headline"},[t._v(t._s(e.title))])]),t._v(" "),a("v-flex",{staticClass:"pt-0",attrs:{xs12:""}},[a("div",[t._v(t._s(e.date))])])],1),t._v(" "),a("v-card-text",{staticClass:"pt-0"},[a("v-flex",{staticClass:"pt-0",attrs:{xs12:""}},[a("div",[t._v(t._s(e.content))])])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",dark:""},on:{click:function(a){t.readNotice(e)}}},[t._v("已读")])],1)],1)],1)}))],1)],1)],1),t._v(" "),a("v-expansion-panel-content",[a("div",{staticClass:"title purple--text",attrs:{slot:"header"},slot:"header"},[t._v("已读通知")]),t._v(" "),a("v-card",[a("v-container",{staticStyle:{"min-height":"0"},attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.readNotices,function(e,s){return a("v-flex",{key:s,attrs:{xs12:""}},[a("v-card",{staticClass:"purple--text",attrs:{color:"grey lighten-3"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"headline"},[t._v(t._s(e.title))])]),t._v(" "),a("v-flex",{staticClass:"pt-0",attrs:{xs12:""}},[a("div",[t._v(t._s(e.date))])])],1),t._v(" "),a("v-card-text",{staticClass:"pt-0"},[a("v-flex",{staticClass:"pt-0",attrs:{xs12:""}},[a("div",[t._v(t._s(e.content))])])],1)],1)],1)}))],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var xe=a("VU/8")(ke,be,!1,function(t){a("JJCY")},"data-v-42076923",null).exports,ge={name:"Garbage",data:function(){return{rubbish:[]}},methods:{initiate:function(){var t=this;this.$http.get("/task?requesterId="+sessionStorage.getItem("id")+"&type=garbage").then(function(e){t.rubbish=e.data})},deleteForever:function(t){var e=this;this.$http.delete("/task/"+t).then(function(t){e.initiate()})},recoverAsDraft:function(t){var e=this;this.$http.post("/task/"+t+"/draft").then(function(t){e.initiate()})}},created:function(){this.initiate()}},we={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",[a("v-card",{staticClass:"grey lighten-4",attrs:{flat:""}},[a("v-container",{staticClass:"pt-5",attrs:{"grid-list-lg":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","mx-2":""}},t._l(t.rubbish,function(e){return a("v-flex",{key:e.id,attrs:{md2:""}},[a("v-card",{attrs:{hover:"",to:e.path}},[a("v-card-media",{attrs:{src:"https://unsplash.it/150/300?image="+(Math.floor(75*Math.random())+1),height:"130px"}},[a("v-container",{staticClass:"picture",attrs:{"fill-height":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-flex",[a("span",{staticClass:"headline white--text"},[t._v(t._s(e.name))])])],1)],1)],1),t._v(" "),a("v-card-text",{staticClass:"grey--text pt-1 pb-1"},[a("v-layout",{attrs:{"align-center":""}},[a("v-btn",{attrs:{icon:""},on:{click:function(a){t.recoverAsDraft(e.id)}}},[a("v-icon",{attrs:{color:"purple darken-2"}},[t._v("reply")])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},on:{click:function(a){t.deleteForever(e.id)}}},[a("v-icon",{attrs:{color:"purple darken-2"}},[t._v("delete")])],1)],1)],1)],1)],1)}))],1)],1)],1)],1)},staticRenderFns:[]};var ye=a("VU/8")(ge,we,!1,function(t){a("BWJn")},"data-v-a8a577b0",null).exports,Ce={name:"Draft",data:function(){return{drafts:[]}},methods:{initiate:function(){var t=this;this.$http.get("/task?requesterId="+sessionStorage.getItem("id")+"&type=draft").then(function(e){t.drafts=e.data;for(var a=0;a<t.drafts.length;a++)t.drafts[a].path="/requester/idleTask/"+t.drafts[a].id})},garbage:function(t){var e=this;this.$http.post("/task/"+t+"/garbage").then(function(t){e.initiate()})}},created:function(){this.initiate()}},$e={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",[a("v-card",{staticClass:"grey lighten-4",attrs:{flat:""}},[a("v-container",{staticClass:"pt-5",attrs:{"grid-list-lg":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","mx-2":""}},t._l(t.drafts,function(e){return a("v-flex",{key:e.id,attrs:{md2:""}},[a("v-card",{attrs:{hover:"",to:e.path}},[a("v-card-media",{attrs:{src:"https://unsplash.it/150/300?image="+(Math.floor(100*Math.random())+1),height:"130px"}},[a("v-container",{staticClass:"picture",attrs:{"fill-height":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-flex",[a("span",{staticClass:"headline white--text"},[t._v(t._s(e.name))])])],1)],1)],1),t._v(" "),a("v-card-text",{staticClass:"grey--text pt-1 pb-1"},[a("v-layout",{attrs:{"align-center":""}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},on:{click:function(a){t.garbage(e.id)}}},[a("v-icon",{attrs:{color:"purple darken-2"}},[t._v("delete")])],1)],1)],1)],1)],1)}))],1)],1)],1)],1)},staticRenderFns:[]};var Te=a("VU/8")(Ce,$e,!1,function(t){a("DHZb")},"data-v-0b0e0794",null).exports,Ie=new h.a({routes:[{path:"/",name:"Index",meta:{title:"首页 | AlphaCat众包数据标注系统"},component:m},{path:"/login/worker",name:"WorkerLogin",meta:{title:"工人登录 | AlphaCat众包数据标注系统"},component:Et},{path:"/login/requester",name:"PublisherLogin",meta:{title:"发布者登录 | AlphaCat众包数据标注系统"},component:zt},{path:"/login/admin",name:"AdminLogin",meta:{title:"管理员登录 | AlphaCat后台管理系统"},component:Wt},{path:"/register",name:"Register",meta:{title:"注册 | AlphaCat众包数据标注系统"},component:b},{path:"/admin",name:"AdminPage",component:w,children:[{path:"index",component:At,meta:{title:"首页 | 后台管理系统"}},{path:"info",component:$,meta:{title:"个人信息 | 后台管理系统"}},{path:"check",component:q,meta:{title:"发布者审核 | 后台管理系统"}},{path:"notice",component:O,meta:{title:"通知管理 | 后台管理系统"}},{path:"userData",component:L,meta:{title:"用户数据 | 后台管理系统"}},{path:"taskData",component:z,meta:{title:"任务数据 | 后台管理系统"}}]},{path:"/worker",name:"WorkerPage",component:W,children:[{path:"index",component:H,meta:{title:"首页 | AlphaCat众包平台"}},{path:"task",component:tt,meta:{title:"任务 | AlphaCat众包平台"}},{path:"mark/:id",component:kt,meta:{title:"标注 | AlphaCat众包平台"}},{path:"rank",component:gt,meta:{title:"排名 | AlphaCat众包平台"}},{path:"center",component:Ct,meta:{title:"个人中心 | AlphaCat众包平台"}}]},{path:"/requester",name:"RequesterIndex",component:Xt,children:[{path:"personalInfo",name:"PersonalInfo",component:ce},{path:"index",name:"TaskOverview",component:Kt},{path:"notice",name:"Notice",component:xe},{path:"garbage",name:"Garbage",component:ye},{path:"draft",name:"Draft",component:Te}]},{path:"/requester/idleTask/:taskId",name:"IdleTask",component:ee},{path:"/requester/underwayTask/:taskId",name:"UnderwayTask",component:re},{path:"/requester/finishedTask/:taskId",name:"FinishedTask",component:ne},{path:"/upload",name:"Upload",component:_e}]});Ie.beforeEach(function(t,e,a){t.meta.title&&(document.title=t.meta.title),a()});var qe=Ie,De=a("3EgV"),je=a.n(De),Oe=a("86jz"),Se=a.n(Oe);a("7zck"),a("gJtD"),a("toYN");p.a.defaults.baseURL="http://localhost:8080/",p.a.defaults.headers.post["Content-Type"]="application/json",o.default.config.productionTip=!1,o.default.use(je.a),o.default.use(n.a),o.default.use(r.a),o.default.use(Se.a),o.default.use(h.a),o.default.prototype.$http=p.a,new o.default({el:"#app",router:qe,render:function(t){return t(d)}})},PYwu:function(t,e){},Sss2:function(t,e){},T8H4:function(t,e){},TiJG:function(t,e){},WSke:function(t,e){},Wcp9:function(t,e){},Y09W:function(t,e){},c9UG:function(t,e){},eNbV:function(t,e){},gJtD:function(t,e){},gkGJ:function(t,e){},hdjH:function(t,e){},jAzQ:function(t,e){},kyGc:function(t,e){},nYdx:function(t,e){},q9o7:function(t,e){},r8bT:function(t,e){},sSqM:function(t,e){},toYN:function(t,e){},uslO:function(t,e,a){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function r(t){return a(i(t))}function i(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}r.keys=function(){return Object.keys(s)},r.resolve=i,t.exports=r,r.id="uslO"},xr7U:function(t,e){},yNkk:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.925158db708ca8285d71.js.map